const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/slidev/DrawingControls-DiJkOWG-.js","assets/modules/vue-B6u5E1Na.js","assets/modules/shiki-B3BqW80E.js","assets/modules/shiki-Bxv373Z5.css","assets/index-BnBBUfbP.js","assets/index-CzYCyrKn.css","assets/slidev/context-WMNLZPPP.js","assets/modules/unplugin-icons-U1mgfGwj.js","assets/DrawingControls-Cxk9a9ub.css","assets/slidev/DrawingLayer-BmNtFzqK.js"])))=>i.map(i=>d[i]);
import{G as P,z as l,t as z,X as vn,P as Tt,Y as pn,Z as Vs,y as mn,n as gn,M as Ye,_ as as,$ as yn,a0 as _n,a1 as Ts,a2 as We,d as X,a3 as Os,a4 as xn,a5 as bn,o as u,b as f,F as K,S as mt,i as Q,c as L,a6 as ze,e as b,x as xe,C as Xe,g as S,h as he,a7 as Fs,j as _t,l as E,a8 as ls,f as je,a9 as zs,k as N,aa as Je,ab as wn,ac as kn,ad as Oe,E as Sn,V as Ct,ae as Mn,B as vt,T as js,af as Bs,ag as Ks,ah as $n,R as fs,m as Yt,O as Pn,ai as Cn,aj as xt,q as Le,s as De,ak as En,al as J,am as we,an as In,ao as Rn}from"../modules/vue-B6u5E1Na.js";import{o as Et,u as fe,p as le,q as Ot,r as vs,s as Ln,v as Hs,w as St,x as Mt,y as qe,z as It,A as us,B as Dn,D as Ge,E as Fe,G as dt,_ as gt,I as An,J as et,K as Nn,L as Vn,M as ps,N as ht,O as Rt,P as Lt,l as pt,f as Us,Q as Tn,e as On,d as Fn,b as zn,c as jn,a as Bn,g as Kn,R as Hn,S as Xt,T as ye,U as Gs,C as Ws,h as Ys,V as Ft,W as ft,X as V,Y as Z,Z as Un,$ as Qt,a0 as bt,a1 as Xs,a2 as Gn,a3 as Wn,a4 as Yn,a5 as zt,a6 as Xn,a7 as ms,a8 as cs,a9 as jt,aa as gs,ab as Zt,ac as Qn,ad as Zn,ae as Jn,af as qn}from"../index-BnBBUfbP.js";import{u as er}from"./context-WMNLZPPP.js";import{_ as tr,a as sr,b as Qs,c as nr}from"../modules/unplugin-icons-U1mgfGwj.js";import{V as rr,t as or}from"../modules/shiki-B3BqW80E.js";function ir(e){var t;return{info:z(((t=Et(e))==null?void 0:t.meta.slide)??null),update:async()=>{}}}const Bt={};function ar(e){function t(n){return Bt[n]??(Bt[n]=ir(n))}return{info:P({get(){return t(l(e)).info.value},set(n){t(l(e)).info.value=n}}),update:async(n,s)=>{const r=t(s??l(e)),o=await r.update(n);return o&&(r.info.value=o),o}}}var lr=Object.defineProperty,ys=Object.getOwnPropertySymbols,ur=Object.prototype.hasOwnProperty,cr=Object.prototype.propertyIsEnumerable,_s=(e,t,n)=>t in e?lr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Jt=(e,t)=>{for(var n in t||(t={}))ur.call(t,n)&&_s(e,n,t[n]);if(ys)for(var n of ys(t))cr.call(t,n)&&_s(e,n,t[n]);return e},dr=()=>({emit(e,...t){for(let n=this.events[e]||[],s=0,r=n.length;s<r;s++)n[s](...t)},events:{},on(e,t){var n;return((n=this.events)[e]||(n[e]=[])).push(t),()=>{var s;this.events[e]=(s=this.events[e])==null?void 0:s.filter(r=>t!==r)}}});function Dt(e,t){return e-t}function hr(e){return e<0?-1:1}function At(e){return[Math.abs(e),hr(e)]}function Zs(){const e=()=>((1+Math.random())*65536|0).toString(16).substring(1);return`${e()+e()}-${e()}-${e()}-${e()}-${e()}${e()}${e()}`}var fr=2,Ne=fr;function Js(e,t){const n=document.createElementNS("http://www.w3.org/2000/svg","defs"),s=document.createElementNS("http://www.w3.org/2000/svg","marker"),r=document.createElementNS("http://www.w3.org/2000/svg","path");return r.setAttribute("fill",t),s.setAttribute("id",e),s.setAttribute("viewBox","0 -5 10 10"),s.setAttribute("refX","5"),s.setAttribute("refY","0"),s.setAttribute("markerWidth","4"),s.setAttribute("markerHeight","4"),s.setAttribute("orient","auto"),r.setAttribute("d","M0,-5L10,0L0,5"),s.appendChild(r),n.appendChild(s),n}function vr(e,t){const n=e.x-t.x,s=e.y-t.y;return n*n+s*s}function pr(e,t,n){let s=t.x,r=t.y,o=n.x-s,i=n.y-r;if(o!==0||i!==0){const a=((e.x-s)*o+(e.y-r)*i)/(o*o+i*i);a>1?(s=n.x,r=n.y):a>0&&(s+=o*a,r+=i*a)}return o=e.x-s,i=e.y-r,o*o+i*i}function mr(e,t){let n=e[0];const s=[n];let r;for(let o=1,i=e.length;o<i;o++)r=e[o],vr(r,n)>t&&(s.push(r),n=r);return n!==r&&r&&s.push(r),s}function qt(e,t,n,s,r){let o=s,i=0;for(let a=t+1;a<n;a++){const c=pr(e[a],e[t],e[n]);c>o&&(i=a,o=c)}o>s&&(i-t>1&&qt(e,t,i,s,r),r.push(e[i]),n-i>1&&qt(e,i,n,s,r))}function gr(e,t){const n=e.length-1,s=[e[0]];return qt(e,0,n,t,s),s.push(e[n]),s}function xs(e,t,n=!1){if(e.length<=2)return e;const s=t*t;return e=n?e:mr(e,s),e=gr(e,s),e}var tt=class{constructor(e){this.drauu=e,this.event=void 0,this.point=void 0,this.start=void 0,this.el=null}onSelected(e){}onUnselected(){}onStart(e){}onMove(e){return!1}onEnd(e){}get brush(){return this.drauu.brush}get shiftPressed(){return this.drauu.shiftPressed}get altPressed(){return this.drauu.altPressed}get svgElement(){return this.drauu.el}getMousePosition(e){var t,n,s;const r=this.drauu.el,o=(t=this.drauu.options.coordinateScale)!=null?t:1,i=(n=this.drauu.options.offset)!=null?n:{x:0,y:0};if(this.drauu.options.coordinateTransform===!1){const a=this.drauu.el.getBoundingClientRect();return{x:(e.pageX-a.left+i.x)*o,y:(e.pageY-a.top+i.y)*o,pressure:e.pressure}}else{const a=this.drauu.svgPoint;a.x=e.clientX+i.x,a.y=e.clientY+i.y;const c=a.matrixTransform((s=r.getScreenCTM())==null?void 0:s.inverse());return{x:c.x*o,y:c.y*o,pressure:e.pressure}}}createElement(e,t){var n;const s=document.createElementNS("http://www.w3.org/2000/svg",e),r=t?Jt(Jt({},this.brush),t):this.brush;return s.setAttribute("fill",(n=r.fill)!=null?n:"transparent"),s.setAttribute("stroke",r.color),s.setAttribute("stroke-width",r.size.toString()),s.setAttribute("stroke-linecap","round"),r.dasharray&&s.setAttribute("stroke-dasharray",r.dasharray),s}attr(e,t){this.el.setAttribute(e,typeof t=="string"?t:t.toFixed(Ne))}_setEvent(e){this.event=e,this.point=this.getMousePosition(e)}_eventDown(e){return this._setEvent(e),this.start=this.point,this.onStart(this.point)}_eventMove(e){return this._setEvent(e),this.onMove(this.point)}_eventUp(e){return this._setEvent(e),this.onEnd(this.point)}},yr=class He extends tt{constructor(){super(...arguments),this.points=[],this.count=0}onStart(t){if(this.el=this.createElement("path",{fill:"transparent"}),this.points=[t],this.brush.arrowEnd){this.arrowId=Zs();const n=Js(this.arrowId,this.brush.color);this.el.appendChild(n)}return this.el}onMove(t){return this.el||this.onStart(t),this.points[this.points.length-1]!==t&&(this.points.push(t),this.count+=1),this.count>5&&(this.points=xs(this.points,1,!0),this.count=0),this.attr("d",He.toSvgData(this.points)),!0}onEnd(){const t=this.el;if(this.el=null,!t)return!1;if(t.setAttribute("d",He.toSvgData(xs(this.points,1,!0))),!t.getTotalLength()){const{x:n,y:s}=this.points[0],r=this.brush.size/2;t.setAttribute("d",`M ${n-r} ${s} a ${r},${r} 0 1,0 ${r*2},0 a ${r},${r} 0 1,0 ${-r*2},0`),t.setAttribute("fill",this.brush.color),t.setAttribute("stroke-width","0")}return!0}static line(t,n){const s=n.x-t.x,r=n.y-t.y;return{length:Math.sqrt(s**2+r**2),angle:Math.atan2(r,s)}}static controlPoint(t,n,s,r){const o=n||t,i=s||t,a=.2,c=He.line(o,i),d=c.angle+(r?Math.PI:0),h=c.length*a,v=t.x+Math.cos(d)*h,p=t.y+Math.sin(d)*h;return{x:v,y:p}}static bezierCommand(t,n,s){const r=He.controlPoint(s[n-1],s[n-2],t),o=He.controlPoint(t,s[n-1],s[n+1],!0);return`C ${r.x.toFixed(Ne)},${r.y.toFixed(Ne)} ${o.x.toFixed(Ne)},${o.y.toFixed(Ne)} ${t.x.toFixed(Ne)},${t.y.toFixed(Ne)}`}static toSvgData(t){return t.reduce((n,s,r,o)=>r===0?`M ${s.x.toFixed(Ne)},${s.y.toFixed(Ne)}`:`${n} ${He.bezierCommand(s,r,o)}`,"")}},_r=class extends tt{onStart(e){return this.el=this.createElement("ellipse"),this.attr("cx",e.x),this.attr("cy",e.y),this.el}onMove(e){if(!this.el||!this.start)return!1;let[t,n]=At(e.x-this.start.x),[s,r]=At(e.y-this.start.y);if(this.shiftPressed){const o=Math.min(t,s);t=o,s=o}if(this.altPressed)this.attr("cx",this.start.x),this.attr("cy",this.start.y),this.attr("rx",t),this.attr("ry",s);else{const[o,i]=[this.start.x,this.start.x+t*n].sort(Dt),[a,c]=[this.start.y,this.start.y+s*r].sort(Dt);this.attr("cx",(o+i)/2),this.attr("cy",(a+c)/2),this.attr("rx",(i-o)/2),this.attr("ry",(c-a)/2)}return!0}onEnd(){const e=this.el;if(this.el=null,!e)return!1;try{if(!e.getTotalLength())return!1}catch{return!1}return!0}},xr=class extends tt{constructor(){super(...arguments),this.pathSubFactor=20,this.pathFragments=[],this._erased=[]}onSelected(e){const t=(n,s)=>{if(n&&n.length)for(let r=0;r<n.length;r++){const o=n[r];if(o.getTotalLength){const i=o.getTotalLength();for(let a=0;a<this.pathSubFactor;a++){const c=o.getPointAtLength(i*a/this.pathSubFactor),d=o.getPointAtLength(i*(a+1)/this.pathSubFactor);this.pathFragments.push({x1:c.x,x2:d.x,y1:c.y,y2:d.y,segment:a,element:s||o})}}else o.children&&t(o.children,o)}};e&&t(e.children)}onUnselected(){this.pathFragments=[]}onStart(e){this.svgPointPrevious=this.svgElement.createSVGPoint(),this.svgPointPrevious.x=e.x,this.svgPointPrevious.y=e.y}onMove(e){this.svgPointCurrent=this.svgElement.createSVGPoint(),this.svgPointCurrent.x=e.x,this.svgPointCurrent.y=e.y;const t=this.checkAndEraseElement();return this.svgPointPrevious=this.svgPointCurrent,t}onEnd(){this.svgPointPrevious=void 0,this.svgPointCurrent=void 0;const e=this._erased;return this._erased=[],{undo:()=>e.forEach(t=>this.drauu._restoreNode(t)),redo:()=>e.forEach(t=>this.drauu._removeNode(t))}}checkAndEraseElement(){if(this.pathFragments.length)for(let e=0;e<this.pathFragments.length;e++){const t=this.pathFragments[e];if(this.svgPointPrevious&&this.svgPointCurrent){const n={x1:this.svgPointPrevious.x,x2:this.svgPointCurrent.x,y1:this.svgPointPrevious.y,y2:this.svgPointCurrent.y};this.lineLineIntersect(t,n)&&(this.drauu._removeNode(t.element),this._erased.push(t.element))}}return this._erased.length&&(this.pathFragments=this.pathFragments.filter(e=>!this._erased.includes(e.element))),this._erased.length>0}lineLineIntersect(e,t){const n=e.x1,s=e.x2,r=t.x1,o=t.x2,i=e.y1,a=e.y2,c=t.y1,d=t.y2,h=(n-s)*(c-d)-(i-a)*(r-o),v=(n*a-i*s)*(r-o)-(n-s)*(r*d-c*o),p=(n*a-i*s)*(c-d)-(i-a)*(r*d-c*o),g=(y,_,m)=>y>=_&&y<=m?!0:y>=m&&y<=_;if(h===0)return!1;{const y={x:v/h,y:p/h};return g(y.x,n,s)&&g(y.y,i,a)&&g(y.x,r,o)&&g(y.y,c,d)}}},br=class extends tt{onStart(e){if(this.el=this.createElement("line",{fill:"transparent"}),this.attr("x1",e.x),this.attr("y1",e.y),this.attr("x2",e.x),this.attr("y2",e.y),this.brush.arrowEnd){const t=Zs(),n=document.createElementNS("http://www.w3.org/2000/svg","g");return n.append(Js(t,this.brush.color)),n.append(this.el),this.attr("marker-end",`url(#${t})`),n}return this.el}onMove(e){if(!this.el)return!1;let{x:t,y:n}=e;if(this.shiftPressed){const s=e.x-this.start.x,r=e.y-this.start.y;if(r!==0){let o=s/r;o=Math.round(o),Math.abs(o)<=1?(t=this.start.x+r*o,n=this.start.y+r):(t=this.start.x+s,n=this.start.y)}}return this.altPressed?(this.attr("x1",this.start.x*2-t),this.attr("y1",this.start.y*2-n),this.attr("x2",t),this.attr("y2",n)):(this.attr("x1",this.start.x),this.attr("y1",this.start.y),this.attr("x2",t),this.attr("y2",n)),!0}onEnd(){const e=this.el;if(this.el=null,!e)return!1;try{if(e.getTotalLength()<5)return!1}catch{return!1}return!0}},wr=class extends tt{onStart(e){return this.el=this.createElement("rect"),this.brush.cornerRadius&&(this.attr("rx",this.brush.cornerRadius),this.attr("ry",this.brush.cornerRadius)),this.attr("x",e.x),this.attr("y",e.y),this.el}onMove(e){if(!this.el||!this.start)return!1;let[t,n]=At(e.x-this.start.x),[s,r]=At(e.y-this.start.y);if(this.shiftPressed){const o=Math.min(t,s);t=o,s=o}if(this.altPressed)this.attr("x",this.start.x-t),this.attr("y",this.start.y-s),this.attr("width",t*2),this.attr("height",s*2);else{const[o,i]=[this.start.x,this.start.x+t*n].sort(Dt),[a,c]=[this.start.y,this.start.y+s*r].sort(Dt);this.attr("x",o),this.attr("y",a),this.attr("width",i-o),this.attr("height",c-a)}return!0}onEnd(){const e=this.el;if(this.el=null,!e)return!1;try{if(!e.getTotalLength())return!1}catch{return!1}return!0}};function bs(e,t,n,s=r=>r){return e*s(.5-t*(.5-n))}function kr(e){return[-e[0],-e[1]]}function $e(e,t){return[e[0]+t[0],e[1]+t[1]]}function ke(e,t){return[e[0]-t[0],e[1]-t[1]]}function Me(e,t){return[e[0]*t,e[1]*t]}function Sr(e,t){return[e[0]/t,e[1]/t]}function ot(e){return[e[1],-e[0]]}function ws(e,t){return e[0]*t[0]+e[1]*t[1]}function Mr(e,t){return e[0]===t[0]&&e[1]===t[1]}function $r(e){return Math.hypot(e[0],e[1])}function Pr(e){return e[0]*e[0]+e[1]*e[1]}function ks(e,t){return Pr(ke(e,t))}function qs(e){return Sr(e,$r(e))}function Cr(e,t){return Math.hypot(e[1]-t[1],e[0]-t[0])}function it(e,t,n){let s=Math.sin(n),r=Math.cos(n),o=e[0]-t[0],i=e[1]-t[1],a=o*r-i*s,c=o*s+i*r;return[a+t[0],c+t[1]]}function es(e,t,n){return $e(e,Me(ke(t,e),n))}function Ss(e,t,n){return $e(e,Me(t,n))}var{min:Qe,PI:Er}=Math,Ms=.275,at=Er+1e-4;function Ir(e,t={}){let{size:n=16,smoothing:s=.5,thinning:r=.5,simulatePressure:o=!0,easing:i=D=>D,start:a={},end:c={},last:d=!1}=t,{cap:h=!0,easing:v=D=>D*(2-D)}=a,{cap:p=!0,easing:g=D=>--D*D*D+1}=c;if(e.length===0||n<=0)return[];let y=e[e.length-1].runningLength,_=a.taper===!1?0:a.taper===!0?Math.max(n,y):a.taper,m=c.taper===!1?0:c.taper===!0?Math.max(n,y):c.taper,x=Math.pow(n*s,2),I=[],w=[],T=e.slice(0,10).reduce((D,q)=>{let B=q.pressure;if(o){let W=Qe(1,q.distance/n),rt=Qe(1,1-W);B=Qe(1,D+(rt-D)*(W*Ms))}return(D+B)/2},e[0].pressure),k=bs(n,r,e[e.length-1].pressure,i),j,M=e[0].vector,G=e[0].point,O=G,F=G,ee=O,ne=!1;for(let D=0;D<e.length;D++){let{pressure:q}=e[D],{point:B,vector:W,distance:rt,runningLength:$}=e[D];if(D<e.length-1&&y-$<3)continue;if(r){if(o){let te=Qe(1,rt/n),pe=Qe(1,1-te);q=Qe(1,T+(pe-T)*(te*Ms))}k=bs(n,r,q,i)}else k=n/2;j===void 0&&(j=k);let Y=$<_?v($/_):1,U=y-$<m?g((y-$)/m):1;k=Math.max(.01,k*Math.min(Y,U));let R=(D<e.length-1?e[D+1]:e[D]).vector,A=D<e.length-1?ws(W,R):1,re=ws(W,M)<0&&!ne,ie=A!==null&&A<0;if(re||ie){let te=Me(ot(M),k);for(let pe=1/13,ce=0;ce<=1;ce+=pe)F=it(ke(B,te),B,at*ce),I.push(F),ee=it($e(B,te),B,at*-ce),w.push(ee);G=F,O=ee,ie&&(ne=!0);continue}if(ne=!1,D===e.length-1){let te=Me(ot(W),k);I.push(ke(B,te)),w.push($e(B,te));continue}let be=Me(ot(es(R,W,A)),k);F=ke(B,be),(D<=1||ks(G,F)>x)&&(I.push(F),G=F),ee=$e(B,be),(D<=1||ks(O,ee)>x)&&(w.push(ee),O=ee),T=q,M=W}let ue=e[0].point.slice(0,2),H=e.length>1?e[e.length-1].point.slice(0,2):$e(e[0].point,[1,1]),ve=[],Ie=[];if(e.length===1){if(!(_||m)||d){let D=Ss(ue,qs(ot(ke(ue,H))),-(j||k)),q=[];for(let B=1/13,W=B;W<=1;W+=B)q.push(it(D,ue,at*2*W));return q}}else{if(!(_||m&&e.length===1))if(h)for(let q=1/13,B=q;B<=1;B+=q){let W=it(w[0],ue,at*B);ve.push(W)}else{let q=ke(I[0],w[0]),B=Me(q,.5),W=Me(q,.51);ve.push(ke(ue,B),ke(ue,W),$e(ue,W),$e(ue,B))}let D=ot(kr(e[e.length-1].vector));if(m||_&&e.length===1)Ie.push(H);else if(p){let q=Ss(H,D,k);for(let B=1/29,W=B;W<1;W+=B)Ie.push(it(q,H,at*3*W))}else Ie.push($e(H,Me(D,k)),$e(H,Me(D,k*.99)),ke(H,Me(D,k*.99)),ke(H,Me(D,k)))}return I.concat(Ie,w.reverse(),ve)}function Rr(e,t={}){var n;let{streamline:s=.5,size:r=16,last:o=!1}=t;if(e.length===0)return[];let i=.15+(1-s)*.85,a=Array.isArray(e[0])?e:e.map(({x:g,y,pressure:_=.5})=>[g,y,_]);if(a.length===2){let g=a[1];a=a.slice(0,-1);for(let y=1;y<5;y++)a.push(es(a[0],g,y/4))}a.length===1&&(a=[...a,[...$e(a[0],[1,1]),...a[0].slice(2)]]);let c=[{point:[a[0][0],a[0][1]],pressure:a[0][2]>=0?a[0][2]:.25,vector:[1,1],distance:0,runningLength:0}],d=!1,h=0,v=c[0],p=a.length-1;for(let g=1;g<a.length;g++){let y=o&&g===p?a[g].slice(0,2):es(v.point,a[g],i);if(Mr(v.point,y))continue;let _=Cr(y,v.point);if(h+=_,g<p&&!d){if(h<r)continue;d=!0}v={point:y,pressure:a[g][2]>=0?a[g][2]:.5,vector:qs(ke(v.point,y)),distance:_,runningLength:h},c.push(v)}return c[0].vector=((n=c[1])==null?void 0:n.vector)||[0,0],c}function Lr(e,t={}){return Ir(Rr(e,t),t)}var Dr=class en extends tt{constructor(){super(...arguments),this.points=[]}onStart(t){return this.el=document.createElementNS("http://www.w3.org/2000/svg","path"),this.points=[t],this.attr("fill",this.brush.color),this.attr("d",this.getSvgData(this.points)),this.el}onMove(t){return this.el||this.onStart(t),this.points[this.points.length-1]!==t&&this.points.push(t),this.attr("d",this.getSvgData(this.points)),!0}onEnd(){const t=this.el;return this.el=null,!!t}getSvgData(t){return en.getSvgData(t,this.brush)}static getSvgData(t,n){const s=Lr(t,Jt({size:n.size,thinning:.9,simulatePressure:!1,start:{taper:5},end:{taper:5}},n.stylusOptions));if(!s.length)return"";const r=s.reduce((o,[i,a],c,d)=>{const[h,v]=d[(c+1)%d.length];return o.push(i,a,(i+h)/2,(a+v)/2),o},["M",...s[0],"Q"]);return r.push("Z"),r.map(o=>typeof o=="number"?o.toFixed(2):o).join(" ")}};function Ar(e){return{draw:new yr(e),stylus:new Dr(e),line:new br(e),rectangle:new wr(e),ellipse:new _r(e),eraseLine:new xr(e)}}var Nr=class{constructor(e={}){this.options=e,this.el=null,this.svgPoint=null,this.eventEl=null,this.shiftPressed=!1,this.altPressed=!1,this.drawing=!1,this._emitter=dr(),this._originalPointerId=null,this._models=Ar(this),this._opStack=[],this._opIndex=0,this._disposables=[],this._elements=[],this.options.brush||(this.options.brush={color:"black",size:3,mode:"stylus"}),e.el&&this.mount(e.el,e.eventTarget,e.window)}get model(){return this._models[this.mode]}get mounted(){return!!this.el}get mode(){return this.options.brush.mode||"stylus"}set mode(e){this._models[this.mode].onUnselected(),this.options.brush.mode=e,this.model.onSelected(this.el)}get brush(){return this.options.brush}set brush(e){this.options.brush=e}resolveSelector(e){return typeof e=="string"?document.querySelector(e):e||null}mount(e,t,n=window){if(this.el)throw new Error("[drauu] already mounted, unmount previous target first");if(this.el=this.resolveSelector(e),!this.el)throw new Error("[drauu] target element not found");if(this.el.tagName.toLocaleLowerCase()!=="svg")throw new Error("[drauu] can only mount to a SVG element");if(!this.el.createSVGPoint)throw new Error("[drauu] SVG element must be create by document.createElementNS('http://www.w3.org/2000/svg', 'svg')");this.svgPoint=this.el.createSVGPoint();const s=this.resolveSelector(t)||this.el,r=this.eventStart.bind(this),o=this.eventMove.bind(this),i=this.eventEnd.bind(this),a=this.eventKeyboard.bind(this);s.addEventListener("pointerdown",r,{passive:!1}),n.addEventListener("pointermove",o,{passive:!1}),n.addEventListener("pointerup",i,{passive:!1}),n.addEventListener("pointercancel",i,{passive:!1}),n.addEventListener("keydown",a,!1),n.addEventListener("keyup",a,!1),this._disposables.push(()=>{s.removeEventListener("pointerdown",r),n.removeEventListener("pointermove",o),n.removeEventListener("pointerup",i),n.removeEventListener("pointercancel",i),n.removeEventListener("keydown",a,!1),n.removeEventListener("keyup",a,!1)}),this._emitter.emit("mounted")}unmount(){this._disposables.forEach(e=>e()),this._disposables.length=0,this._elements.length=0,this.el=null,this._emitter.emit("unmounted")}on(e,t){return this._emitter.on(e,t)}undo(){return!this.canUndo()||this.drawing?!1:(this._opStack[--this._opIndex].undo(),this._emitter.emit("changed"),!0)}redo(){return!this.canRedo()||this.drawing?!1:(this._opStack[this._opIndex++].redo(),this._emitter.emit("changed"),!0)}canRedo(){return this._opIndex<this._opStack.length}canUndo(){return this._opIndex>0}eventMove(e){!this.acceptsInput(e)||!this.drawing||this.model._eventMove(e)&&(e.stopPropagation(),e.preventDefault(),this._emitter.emit("changed"))}eventStart(e){this.acceptsInput(e)&&(e.stopPropagation(),e.preventDefault(),this._currentNode&&this.cancel(),this.drawing=!0,this._originalPointerId=e.pointerId,this._emitter.emit("start"),this._currentNode=this.model._eventDown(e),this._currentNode&&this.mode!=="eraseLine"&&this.el.appendChild(this._currentNode),this._emitter.emit("changed"))}eventEnd(e){if(!this.acceptsInput(e)||!this.drawing)return;const t=this.model._eventUp(e);if(!t)this.cancel();else if(t===!0){const n=this._currentNode;n&&(this._appendNode(n),this.commit({undo:()=>this._removeNode(n),redo:()=>this._restoreNode(n)}))}else this.commit(t);this.drawing=!1,this._emitter.emit("end"),this._emitter.emit("changed"),this._originalPointerId=null}acceptsInput(e){return(!this.options.acceptsInputTypes||this.options.acceptsInputTypes.includes(e.pointerType))&&!(this._originalPointerId&&this._originalPointerId!==e.pointerId)}eventKeyboard(e){this.shiftPressed===e.shiftKey&&this.altPressed===e.altKey||(this.shiftPressed=e.shiftKey,this.altPressed=e.altKey,this.model.point&&this.model.onMove(this.model.point)&&this._emitter.emit("changed"))}commit(e){this._opStack.length=this._opIndex,this._opStack.push(e),this._opIndex++;const t=this._currentNode;this._currentNode=void 0,this._emitter.emit("committed",t)}clear(){this._opStack.length=0,this._opIndex=0,this._elements=[],this.cancel(),this.el.innerHTML="",this._emitter.emit("changed")}cancel(){this._currentNode&&(this.el.removeChild(this._currentNode),this._currentNode=void 0,this._emitter.emit("canceled"))}dump(){return this.el.innerHTML}load(e){this.clear(),this.el.innerHTML=e}_appendNode(e){const t=this._elements.at(-1);t?t.after(e):this.el.append(e);const n=this._elements.push(e)-1;e.dataset.drauu_index=n.toString()}_removeNode(e){e.remove(),this._elements[+e.dataset.drauu_index]=null}_restoreNode(e){const t=+e.dataset.drauu_index;this._elements[t]=e;for(let n=t-1;n>=0;n--){const s=this._elements[n];if(s){s.after(e);return}}this.el.prepend(e)}};function Vr(e){return new Nr(e)}const st=vn(()=>{const{currentSlideNo:e,isPresenter:t}=fe(),n=["#ff595e","#ffca3a","#8ac926","#1982c4","#6a4c93","#ffffff","#000000"],s=Tt("slidev-drawing-enabled",!1),r=Tt("slidev-drawing-pinned",!1),o=pn(Tt("slidev-drawing-brush",{color:n[0],size:4,mode:"stylus"})),i=z(!1),a=z(!1),c=z(!1),d=z(!1),h=z("stylus"),v=P(()=>le.drawings.syncAll||t.value);let p=!1;const g=P({get(){return h.value},set(w){h.value=w,w==="arrow"?(_.mode="line",o.arrowEnd=!0):(_.mode=w,o.arrowEnd=!1)}}),y=Vs({brush:o,acceptsInputTypes:P(()=>s.value&&(!le.drawings.presenterOnly||t.value)?void 0:["pen"]),coordinateTransform:!1}),_=mn(Vr(y));function m(){_.clear(),v.value&&vs(e.value,"")}function x(){var w;c.value=_.canRedo(),a.value=_.canUndo(),d.value=!!((w=_.el)!=null&&w.children.length)}function I(w){p=!0;const T=Ot[w||e.value];T!=null?_.load(T):_.clear(),x(),p=!1}return _.on("changed",()=>{if(x(),!p){const w=_.dump(),T=e.value;(Ot[T]||"")!==w&&v.value&&vs(T,_.dump())}}),Ln(w=>{p=!0,w[e.value]!=null&&_.load(w[e.value]||""),p=!1,x()}),gn(()=>{Ye(e,()=>{_.mounted&&I()},{immediate:!0})}),_.on("start",()=>i.value=!0),_.on("end",()=>i.value=!1),window.addEventListener("keydown",w=>{if(!s.value||Hs.value)return;const T=!w.ctrlKey&&!w.altKey&&!w.shiftKey&&!w.metaKey;let k=!0;w.code==="KeyZ"&&(w.ctrlKey||w.metaKey)?w.shiftKey?_.redo():_.undo():w.code==="Escape"?s.value=!1:w.code==="KeyL"&&T?g.value="line":w.code==="KeyA"&&T?g.value="arrow":w.code==="KeyS"&&T?g.value="stylus":w.code==="KeyR"&&T?g.value="rectangle":w.code==="KeyE"&&T?g.value="ellipse":w.code==="KeyC"&&T?m():w.code.startsWith("Digit")&&T&&+w.code[5]<=n.length?o.color=n[+w.code[5]-1]:k=!1,k&&(w.preventDefault(),w.stopPropagation())},!1),{brush:o,brushColors:n,canClear:d,canRedo:c,canUndo:a,clear:m,drauu:_,drauuOptions:y,drawingEnabled:s,drawingMode:g,drawingPinned:r,drawingState:Ot,isDrawing:i,loadCanvas:I}}),Tr=2e3;function Or(e){const t=P(()=>e.value&&St.value);function n(){document.body.style.cursor="none"}function s(){document.body.style.cursor=""}let r=null;Ye(t,o=>{o||s()}),as(document.body,["pointermove","pointerdown"],()=>{s(),r&&clearTimeout(r),t.value&&(r=setTimeout(n,Tr))},{passive:!0})}function Fr(e){const{next:t,nextSlide:n,prev:s,prevSlide:r}=fe(),{isDrawing:o}=st(),i=z(0),{direction:a,distanceX:c,distanceY:d}=yn(e,{pointerTypes:["touch"],onSwipeStart(){o.value||(i.value=_n())},onSwipeEnd(){if(!i.value||o.value)return;const h=Math.abs(c.value),v=Math.abs(d.value);h/window.innerWidth>.3||h>75?a.value==="left"?t():s():(v/window.innerHeight>.4||v>200)&&(a.value==="down"?r():n())}})}function zr(){const{request:e,release:t}=Ts();Ye(Mt,n=>{n?e("screen"):t()},{immediate:!0})}const jr=[];let Kt;const Br=()=>{if(Kt)return Kt;const{next:e,nextSlide:t,prev:n,prevSlide:s,hasNext:r,hasPrev:o,currentPage:i,total:a,isPresenter:c,enterPresenter:d,exitPresenter:h,isEmbedded:v,isPresenterAvailable:p}=fe(),{drawingEnabled:g}=st(),{isFullscreen:y,toggle:_}=us;return Kt=jr.reduce((m,x)=>x(m),P(()=>[{small:!0,icon:"i-carbon:arrow-left",label:"Previous Click",action:n,disabled:!o.value},{small:!0,icon:"i-carbon:arrow-right",label:"Next Click",action:e,disabled:!r.value},{small:!0,icon:"i-carbon:arrow-up",label:"Previous Slide",action:s,disabled:i.value<=1},{small:!0,icon:"i-carbon:arrow-down",label:"Next Slide",action:t,disabled:i.value>=a.value},"separator",{icon:"i-carbon:text-annotation-toggle",label:qe.value?"Hide editor":"Show editor",action:()=>qe.value=!qe.value},{icon:"i-carbon:pen",label:g.value?"Hide drawing toolbar":"Show drawing toolbar",action:()=>g.value=!g.value},{icon:"i-carbon:apps",label:"Show slide overview",action:It},c.value&&{icon:"i-carbon:presentation-file",label:"Exit Presenter Mode",action:h},!1,!v.value&&{icon:y.value?"i-carbon:minimize":"i-carbon:maximize",label:y.value?"Close fullscreen":"Enter fullscreen",action:_}].filter(Boolean)))},Ze=We(null);function Kr(e,t){Ze.value={x:e,y:t,items:Br()}}function lt(){Ze.value=null}function Hr(e){if(le.contextMenu!==!0&&le.contextMenu!=null&&le.contextMenu!==Dn||e.shiftKey||e.defaultPrevented)return;const{isEmbedded:t}=fe();t.value||(Kr(e.pageX,e.pageY),e.preventDefault(),e.stopPropagation())}const Ur=["title","onClick"],Gr=["onClick"],Wr={class:"mx-auto flex"},Yr={key:0},Xr={class:"w-full text-xs p2"},Qr={class:"text-main text-opacity-50!"},Zr=X({__name:"ContextMenu",setup(e){const t=z();Os(t,lt),as(document,"mousedown",c=>{c.buttons&2&&lt()},{passive:!0,capture:!0});const n=P(()=>le.contextMenu!=null),s=xn();Ye(s,c=>{c||lt()}),ar(1);const{width:r,height:o}=bn(t),i=P(()=>{var d;const c=(d=Ze.value)==null?void 0:d.x;return c?c+r.value>Ge.width.value?Ge.width.value-r.value:c:0}),a=P(()=>{var d;const c=(d=Ze.value)==null?void 0:d.y;return c?c+o.value>Ge.height.value?Ge.height.value-o.value:c:0});return(c,d)=>l(Ze)?(u(),f("div",{key:0,ref_key:"container",ref:t,style:he(`left:${i.value}px;top:${a.value}px`),class:"slidev-glass-effect fixed z-context-menu w-60 flex flex-wrap justify-items-start p-1 animate-fade-in animate-duration-100 rounded-md shadow overflow-hidden select-none",onContextmenu:d[1]||(d[1]=Fs(()=>{},["prevent"])),onClick:d[2]||(d[2]=(...h)=>l(lt)&&l(lt)(...h))},[(u(!0),f(K,null,mt(l(Ze).items.value,(h,v)=>(u(),f(K,{key:v},[h==="separator"?(u(),f("div",{key:v,class:"w-full my1 border-t border-main"})):h.small?(u(),f("div",{key:1,class:Q(["p-2 w-[40px] h-[40px] inline-block text-center cursor-pointer rounded flex",h.disabled?"op40":"hover:bg-active"]),title:h.label,onClick:h.action},[typeof h.icon=="string"?(u(),f("div",{key:0,class:Q([h.icon,"text-1.2em ma"])},null,2)):(u(),L(ze(h.icon),{key:1}))],10,Ur)):(u(),f("div",{key:2,class:Q(["w-full grid grid-cols-[35px_1fr] p-2 pl-0 cursor-pointer rounded",h.disabled?"op40":"hover:bg-active"]),onClick:h.action},[b("div",Wr,[typeof h.icon=="string"?(u(),f("div",{key:0,class:Q([h.icon,"text-1.2em ma"])},null,2)):(u(),L(ze(h.icon),{key:1}))]),typeof h.label=="string"?(u(),f("div",Yr,xe(h.label),1)):(u(),L(ze(h.label),{key:1}))],10,Gr))],64))),128)),n.value?S("v-if",!0):(u(),f(K,{key:0},[d[6]||(d[6]=b("div",{class:"w-full my1 border-t border-main"},null,-1)),b("div",Xr,[b("div",Qr,[d[3]||(d[3]=Xe(" Hold ")),d[4]||(d[4]=b("kbd",{class:"border px1 py0.5 border-main rounded text-primary"},"Shift",-1)),d[5]||(d[5]=Xe(" and right click to open the native context menu ")),S("v-if",!0)])])],64))],36)):S("v-if",!0)}}),Jr={key:0},qr={key:1},eo={key:2},to={key:3},so={key:4},no={key:5},ro={key:6},oo={key:7},io={key:8},ao={key:9},lo={key:10},uo={key:11},co={key:12},ho={key:13},fo={key:14},vo={key:15},po={key:16},mo={key:17},go={key:18},yo={key:19},_o={key:20},xo={key:21},bo={key:22},wo={key:23},ko={key:24},So={key:25},Mo={key:26},$o={key:27},Po={key:28},Co={key:29},Eo={key:30},Io={key:31},Ro={key:32},Lo={key:33},Do={key:34},Ao={key:35},No={key:36},Vo={key:37},To={key:38},Oo={key:39},Fo={key:40},zo={key:41},jo={key:42},Bo={key:43},Ko={key:44},Ho={key:46},Uo={key:47},Go={key:48},Wo={key:49},Yo={key:50},Xo={key:51},Qo={key:52},Zo={key:53},Jo={key:54},qo={key:55},ei={key:56},ti={key:57},si=X({__name:"title-renderer",props:{no:{}},setup(e){const t=e,{$page:n}=er(),s=P(()=>+(t.no??n.value));return(r,o)=>(u(),f("div",null,[s.value===1?(u(),f("p",Jr,"undefined")):s.value===2?(u(),f("p",qr,"沈希辰")):s.value===3?(u(),f("p",eo,"课程简介")):s.value===4?(u(),f("p",to,"内容大纲")):s.value===5?(u(),f("p",so,"课程评分")):s.value===6?(u(),f("p",no,"对本课程还有什么疑问？")):s.value===7?(u(),f("p",ro,"游戏音频设计概述")):s.value===8?(u(),f("p",oo,"undefined")):s.value===9?(u(),f("p",io,o[0]||(o[0]=[b("span",{class:"text-red-500"},"游戏",-1)]))):s.value===10?(u(),f("p",ao,o[1]||(o[1]=[b("span",{class:"text-green-500"},"音频",-1)]))):s.value===11?(u(),f("p",lo,o[2]||(o[2]=[b("span",{class:"text-blue-500"},"设计",-1)]))):s.value===12?(u(),f("p",uo,"听声辨位")):s.value===13?(u(),f("p",co,"开发流程")):s.value===14?(u(),f("p",ho,"开发阶段 Dev Stage")):s.value===15?(u(),f("p",fo,"开发团队 Dev Team")):s.value===16?(u(),f("p",vo,"音频团队 Audio Team")):s.value===17?(u(),f("p",po,"音频数据 Audio Data")):s.value===18?(u(),f("p",mo,"设计流程 Design Workflow")):s.value===19?(u(),f("p",go,"游戏开发是系统工程，游戏音频设计也应如此。")):s.value===20?(u(),f("p",yo,"开发工具")):s.value===21?(u(),f("p",_o,"Core Tool")):s.value===22?(u(),f("p",xo,"Other Tool")):s.value===23?(u(),f("p",bo,"得体地使用优雅的工具。")):s.value===24?(u(),f("p",wo,"如何听声音")):s.value===25?(u(),f("p",ko,"数字音频制品 --> 最终听感效果")):s.value===26?(u(),f("p",So,"数字音频信号的响度与动态范围")):s.value===27?(u(),f("p",Mo,"数字音频信号测量")):s.value===28?(u(),f("p",$o,"常见媒介的响度规范")):s.value===29?(u(),f("p",Po,"校准日常的听声环境，养成良好的听声习惯。")):s.value===30?(u(),f("p",Co,"音频空间化")):s.value===31?(u(),f("p",Eo,"还原真实世界中的声音传播效果")):s.value===32?(u(),f("p",Io,"声像定位 Sound Positioning")):s.value===33?(u(),f("p",Ro,"空间划分 Space Partition")):s.value===34?(u(),f("p",Lo,"反射与混响 Reflect & Reverb")):s.value===35?(u(),f("p",Do,"衍射与透射 Diffraction & Transmission")):s.value===36?(u(),f("p",Ao,"声音衰减 Sound Attenuation")):s.value===37?(u(),f("p",No,"音频空间化")):s.value===38?(u(),f("p",Vo,"现成的解决方案")):s.value===39?(u(),f("p",To,"Wwise Spatial Audio Demo")):s.value===40?(u(),f("p",Oo,"。")):s.value===41?(u(),f("p",Fo,"环境声设计")):s.value===42?(u(),f("p",zo,"2D 和 3D 声音的区别和应用")):s.value===43?(u(),f("p",jo,"命名规范")):s.value===44?(u(),f("p",Bo,"理想情况是什么样的")):s.value===45?(u(),f("p",Ko,"实际情况是什么样的")):s.value===46?(u(),f(K,{key:45},[],64)):s.value===47?(u(),f("p",Ho,"角色拟音设计")):s.value===48?(u(),f("p",Uo,"枪械声音设计")):s.value===49?(u(),f("p",Go,"undefined")):s.value===50?(u(),f("p",Wo,"载具声音设计")):s.value===51?(u(),f("p",Yo,"影视化内容的声音设计")):s.value===52?(u(),f("p",Xo,"游戏中有哪些影视化的内容")):s.value===53?(u(),f("p",Qo,"音乐设计")):s.value===54?(u(),f("p",Zo,"语音设计")):s.value===55?(u(),f("p",Jo,"Pipeline")):s.value===56?(u(),f("p",qo,"游戏音频混音")):s.value===57?(u(),f("p",ei,"完结")):s.value===58?(u(),f("p",ti,"游戏音频设计")):S("v-if",!0)]))}});function Ve(e){return Array.isArray?Array.isArray(e):nn(e)==="[object Array]"}function ni(e){if(typeof e=="string")return e;let t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function ri(e){return e==null?"":ni(e)}function Ee(e){return typeof e=="string"}function tn(e){return typeof e=="number"}function oi(e){return e===!0||e===!1||ii(e)&&nn(e)=="[object Boolean]"}function sn(e){return typeof e=="object"}function ii(e){return sn(e)&&e!==null}function _e(e){return e!=null}function Ht(e){return!e.trim().length}function nn(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const ai="Incorrect 'index' type",li=e=>`Invalid value for key ${e}`,ui=e=>`Pattern length exceeds max of ${e}.`,ci=e=>`Missing ${e} property in key`,di=e=>`Property 'weight' in key '${e}' must be a positive integer`,$s=Object.prototype.hasOwnProperty;class hi{constructor(t){this._keys=[],this._keyMap={};let n=0;t.forEach(s=>{let r=rn(s);this._keys.push(r),this._keyMap[r.id]=r,n+=r.weight}),this._keys.forEach(s=>{s.weight/=n})}get(t){return this._keyMap[t]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function rn(e){let t=null,n=null,s=null,r=1,o=null;if(Ee(e)||Ve(e))s=e,t=Ps(e),n=ts(e);else{if(!$s.call(e,"name"))throw new Error(ci("name"));const i=e.name;if(s=i,$s.call(e,"weight")&&(r=e.weight,r<=0))throw new Error(di(i));t=Ps(i),n=ts(i),o=e.getFn}return{path:t,id:n,weight:r,src:s,getFn:o}}function Ps(e){return Ve(e)?e:e.split(".")}function ts(e){return Ve(e)?e.join("."):e}function fi(e,t){let n=[],s=!1;const r=(o,i,a)=>{if(_e(o))if(!i[a])n.push(o);else{let c=i[a];const d=o[c];if(!_e(d))return;if(a===i.length-1&&(Ee(d)||tn(d)||oi(d)))n.push(ri(d));else if(Ve(d)){s=!0;for(let h=0,v=d.length;h<v;h+=1)r(d[h],i,a+1)}else i.length&&r(d,i,a+1)}};return r(e,Ee(t)?t.split("."):t,0),s?n:n[0]}const vi={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},pi={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(e,t)=>e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1},mi={location:0,threshold:.6,distance:100},gi={useExtendedSearch:!1,getFn:fi,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var C={...pi,...vi,...mi,...gi};const yi=/[^ ]+/g;function _i(e=1,t=3){const n=new Map,s=Math.pow(10,t);return{get(r){const o=r.match(yi).length;if(n.has(o))return n.get(o);const i=1/Math.pow(o,.5*e),a=parseFloat(Math.round(i*s)/s);return n.set(o,a),a},clear(){n.clear()}}}class ds{constructor({getFn:t=C.getFn,fieldNormWeight:n=C.fieldNormWeight}={}){this.norm=_i(n,3),this.getFn=t,this.isCreated=!1,this.setIndexRecords()}setSources(t=[]){this.docs=t}setIndexRecords(t=[]){this.records=t}setKeys(t=[]){this.keys=t,this._keysMap={},t.forEach((n,s)=>{this._keysMap[n.id]=s})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,Ee(this.docs[0])?this.docs.forEach((t,n)=>{this._addString(t,n)}):this.docs.forEach((t,n)=>{this._addObject(t,n)}),this.norm.clear())}add(t){const n=this.size();Ee(t)?this._addString(t,n):this._addObject(t,n)}removeAt(t){this.records.splice(t,1);for(let n=t,s=this.size();n<s;n+=1)this.records[n].i-=1}getValueForItemAtKeyId(t,n){return t[this._keysMap[n]]}size(){return this.records.length}_addString(t,n){if(!_e(t)||Ht(t))return;let s={v:t,i:n,n:this.norm.get(t)};this.records.push(s)}_addObject(t,n){let s={i:n,$:{}};this.keys.forEach((r,o)=>{let i=r.getFn?r.getFn(t):this.getFn(t,r.path);if(_e(i)){if(Ve(i)){let a=[];const c=[{nestedArrIndex:-1,value:i}];for(;c.length;){const{nestedArrIndex:d,value:h}=c.pop();if(_e(h))if(Ee(h)&&!Ht(h)){let v={v:h,i:d,n:this.norm.get(h)};a.push(v)}else Ve(h)&&h.forEach((v,p)=>{c.push({nestedArrIndex:p,value:v})})}s.$[o]=a}else if(Ee(i)&&!Ht(i)){let a={v:i,n:this.norm.get(i)};s.$[o]=a}}}),this.records.push(s)}toJSON(){return{keys:this.keys,records:this.records}}}function on(e,t,{getFn:n=C.getFn,fieldNormWeight:s=C.fieldNormWeight}={}){const r=new ds({getFn:n,fieldNormWeight:s});return r.setKeys(e.map(rn)),r.setSources(t),r.create(),r}function xi(e,{getFn:t=C.getFn,fieldNormWeight:n=C.fieldNormWeight}={}){const{keys:s,records:r}=e,o=new ds({getFn:t,fieldNormWeight:n});return o.setKeys(s),o.setIndexRecords(r),o}function wt(e,{errors:t=0,currentLocation:n=0,expectedLocation:s=0,distance:r=C.distance,ignoreLocation:o=C.ignoreLocation}={}){const i=t/e.length;if(o)return i;const a=Math.abs(s-n);return r?i+a/r:a?1:i}function bi(e=[],t=C.minMatchCharLength){let n=[],s=-1,r=-1,o=0;for(let i=e.length;o<i;o+=1){let a=e[o];a&&s===-1?s=o:!a&&s!==-1&&(r=o-1,r-s+1>=t&&n.push([s,r]),s=-1)}return e[o-1]&&o-s>=t&&n.push([s,o-1]),n}const Ue=32;function wi(e,t,n,{location:s=C.location,distance:r=C.distance,threshold:o=C.threshold,findAllMatches:i=C.findAllMatches,minMatchCharLength:a=C.minMatchCharLength,includeMatches:c=C.includeMatches,ignoreLocation:d=C.ignoreLocation}={}){if(t.length>Ue)throw new Error(ui(Ue));const h=t.length,v=e.length,p=Math.max(0,Math.min(s,v));let g=o,y=p;const _=a>1||c,m=_?Array(v):[];let x;for(;(x=e.indexOf(t,y))>-1;){let M=wt(t,{currentLocation:x,expectedLocation:p,distance:r,ignoreLocation:d});if(g=Math.min(M,g),y=x+h,_){let G=0;for(;G<h;)m[x+G]=1,G+=1}}y=-1;let I=[],w=1,T=h+v;const k=1<<h-1;for(let M=0;M<h;M+=1){let G=0,O=T;for(;G<O;)wt(t,{errors:M,currentLocation:p+O,expectedLocation:p,distance:r,ignoreLocation:d})<=g?G=O:T=O,O=Math.floor((T-G)/2+G);T=O;let F=Math.max(1,p-O+1),ee=i?v:Math.min(p+O,v)+h,ne=Array(ee+2);ne[ee+1]=(1<<M)-1;for(let H=ee;H>=F;H-=1){let ve=H-1,Ie=n[e.charAt(ve)];if(_&&(m[ve]=+!!Ie),ne[H]=(ne[H+1]<<1|1)&Ie,M&&(ne[H]|=(I[H+1]|I[H])<<1|1|I[H+1]),ne[H]&k&&(w=wt(t,{errors:M,currentLocation:ve,expectedLocation:p,distance:r,ignoreLocation:d}),w<=g)){if(g=w,y=ve,y<=p)break;F=Math.max(1,2*p-y)}}if(wt(t,{errors:M+1,currentLocation:p,expectedLocation:p,distance:r,ignoreLocation:d})>g)break;I=ne}const j={isMatch:y>=0,score:Math.max(.001,w)};if(_){const M=bi(m,a);M.length?c&&(j.indices=M):j.isMatch=!1}return j}function ki(e){let t={};for(let n=0,s=e.length;n<s;n+=1){const r=e.charAt(n);t[r]=(t[r]||0)|1<<s-n-1}return t}class an{constructor(t,{location:n=C.location,threshold:s=C.threshold,distance:r=C.distance,includeMatches:o=C.includeMatches,findAllMatches:i=C.findAllMatches,minMatchCharLength:a=C.minMatchCharLength,isCaseSensitive:c=C.isCaseSensitive,ignoreLocation:d=C.ignoreLocation}={}){if(this.options={location:n,threshold:s,distance:r,includeMatches:o,findAllMatches:i,minMatchCharLength:a,isCaseSensitive:c,ignoreLocation:d},this.pattern=c?t:t.toLowerCase(),this.chunks=[],!this.pattern.length)return;const h=(p,g)=>{this.chunks.push({pattern:p,alphabet:ki(p),startIndex:g})},v=this.pattern.length;if(v>Ue){let p=0;const g=v%Ue,y=v-g;for(;p<y;)h(this.pattern.substr(p,Ue),p),p+=Ue;if(g){const _=v-Ue;h(this.pattern.substr(_),_)}}else h(this.pattern,0)}searchIn(t){const{isCaseSensitive:n,includeMatches:s}=this.options;if(n||(t=t.toLowerCase()),this.pattern===t){let y={isMatch:!0,score:0};return s&&(y.indices=[[0,t.length-1]]),y}const{location:r,distance:o,threshold:i,findAllMatches:a,minMatchCharLength:c,ignoreLocation:d}=this.options;let h=[],v=0,p=!1;this.chunks.forEach(({pattern:y,alphabet:_,startIndex:m})=>{const{isMatch:x,score:I,indices:w}=wi(t,y,_,{location:r+m,distance:o,threshold:i,findAllMatches:a,minMatchCharLength:c,includeMatches:s,ignoreLocation:d});x&&(p=!0),v+=I,x&&w&&(h=[...h,...w])});let g={isMatch:p,score:p?v/this.chunks.length:1};return p&&s&&(g.indices=h),g}}class Ke{constructor(t){this.pattern=t}static isMultiMatch(t){return Cs(t,this.multiRegex)}static isSingleMatch(t){return Cs(t,this.singleRegex)}search(){}}function Cs(e,t){const n=e.match(t);return n?n[1]:null}class Si extends Ke{constructor(t){super(t)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(t){const n=t===this.pattern;return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class Mi extends Ke{constructor(t){super(t)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(t){const s=t.indexOf(this.pattern)===-1;return{isMatch:s,score:s?0:1,indices:[0,t.length-1]}}}class $i extends Ke{constructor(t){super(t)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(t){const n=t.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class Pi extends Ke{constructor(t){super(t)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(t){const n=!t.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,t.length-1]}}}class Ci extends Ke{constructor(t){super(t)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(t){const n=t.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[t.length-this.pattern.length,t.length-1]}}}class Ei extends Ke{constructor(t){super(t)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(t){const n=!t.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,t.length-1]}}}class ln extends Ke{constructor(t,{location:n=C.location,threshold:s=C.threshold,distance:r=C.distance,includeMatches:o=C.includeMatches,findAllMatches:i=C.findAllMatches,minMatchCharLength:a=C.minMatchCharLength,isCaseSensitive:c=C.isCaseSensitive,ignoreLocation:d=C.ignoreLocation}={}){super(t),this._bitapSearch=new an(t,{location:n,threshold:s,distance:r,includeMatches:o,findAllMatches:i,minMatchCharLength:a,isCaseSensitive:c,ignoreLocation:d})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(t){return this._bitapSearch.searchIn(t)}}class un extends Ke{constructor(t){super(t)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(t){let n=0,s;const r=[],o=this.pattern.length;for(;(s=t.indexOf(this.pattern,n))>-1;)n=s+o,r.push([s,n-1]);const i=!!r.length;return{isMatch:i,score:i?0:1,indices:r}}}const ss=[Si,un,$i,Pi,Ei,Ci,Mi,ln],Es=ss.length,Ii=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,Ri="|";function Li(e,t={}){return e.split(Ri).map(n=>{let s=n.trim().split(Ii).filter(o=>o&&!!o.trim()),r=[];for(let o=0,i=s.length;o<i;o+=1){const a=s[o];let c=!1,d=-1;for(;!c&&++d<Es;){const h=ss[d];let v=h.isMultiMatch(a);v&&(r.push(new h(v,t)),c=!0)}if(!c)for(d=-1;++d<Es;){const h=ss[d];let v=h.isSingleMatch(a);if(v){r.push(new h(v,t));break}}}return r})}const Di=new Set([ln.type,un.type]);class Ai{constructor(t,{isCaseSensitive:n=C.isCaseSensitive,includeMatches:s=C.includeMatches,minMatchCharLength:r=C.minMatchCharLength,ignoreLocation:o=C.ignoreLocation,findAllMatches:i=C.findAllMatches,location:a=C.location,threshold:c=C.threshold,distance:d=C.distance}={}){this.query=null,this.options={isCaseSensitive:n,includeMatches:s,minMatchCharLength:r,findAllMatches:i,ignoreLocation:o,location:a,threshold:c,distance:d},this.pattern=n?t:t.toLowerCase(),this.query=Li(this.pattern,this.options)}static condition(t,n){return n.useExtendedSearch}searchIn(t){const n=this.query;if(!n)return{isMatch:!1,score:1};const{includeMatches:s,isCaseSensitive:r}=this.options;t=r?t:t.toLowerCase();let o=0,i=[],a=0;for(let c=0,d=n.length;c<d;c+=1){const h=n[c];i.length=0,o=0;for(let v=0,p=h.length;v<p;v+=1){const g=h[v],{isMatch:y,indices:_,score:m}=g.search(t);if(y){if(o+=1,a+=m,s){const x=g.constructor.type;Di.has(x)?i=[...i,..._]:i.push(_)}}else{a=0,o=0,i.length=0;break}}if(o){let v={isMatch:!0,score:a/o};return s&&(v.indices=i),v}}return{isMatch:!1,score:1}}}const ns=[];function Ni(...e){ns.push(...e)}function rs(e,t){for(let n=0,s=ns.length;n<s;n+=1){let r=ns[n];if(r.condition(e,t))return new r(e,t)}return new an(e,t)}const Nt={AND:"$and",OR:"$or"},os={PATH:"$path",PATTERN:"$val"},is=e=>!!(e[Nt.AND]||e[Nt.OR]),Vi=e=>!!e[os.PATH],Ti=e=>!Ve(e)&&sn(e)&&!is(e),Is=e=>({[Nt.AND]:Object.keys(e).map(t=>({[t]:e[t]}))});function cn(e,t,{auto:n=!0}={}){const s=r=>{let o=Object.keys(r);const i=Vi(r);if(!i&&o.length>1&&!is(r))return s(Is(r));if(Ti(r)){const c=i?r[os.PATH]:o[0],d=i?r[os.PATTERN]:r[c];if(!Ee(d))throw new Error(li(c));const h={keyId:ts(c),pattern:d};return n&&(h.searcher=rs(d,t)),h}let a={children:[],operator:o[0]};return o.forEach(c=>{const d=r[c];Ve(d)&&d.forEach(h=>{a.children.push(s(h))})}),a};return is(e)||(e=Is(e)),s(e)}function Oi(e,{ignoreFieldNorm:t=C.ignoreFieldNorm}){e.forEach(n=>{let s=1;n.matches.forEach(({key:r,norm:o,score:i})=>{const a=r?r.weight:null;s*=Math.pow(i===0&&a?Number.EPSILON:i,(a||1)*(t?1:o))}),n.score=s})}function Fi(e,t){const n=e.matches;t.matches=[],_e(n)&&n.forEach(s=>{if(!_e(s.indices)||!s.indices.length)return;const{indices:r,value:o}=s;let i={indices:r,value:o};s.key&&(i.key=s.key.src),s.idx>-1&&(i.refIndex=s.idx),t.matches.push(i)})}function zi(e,t){t.score=e.score}function ji(e,t,{includeMatches:n=C.includeMatches,includeScore:s=C.includeScore}={}){const r=[];return n&&r.push(Fi),s&&r.push(zi),e.map(o=>{const{idx:i}=o,a={item:t[i],refIndex:i};return r.length&&r.forEach(c=>{c(o,a)}),a})}class nt{constructor(t,n={},s){this.options={...C,...n},this.options.useExtendedSearch,this._keyStore=new hi(this.options.keys),this.setCollection(t,s)}setCollection(t,n){if(this._docs=t,n&&!(n instanceof ds))throw new Error(ai);this._myIndex=n||on(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(t){_e(t)&&(this._docs.push(t),this._myIndex.add(t))}remove(t=()=>!1){const n=[];for(let s=0,r=this._docs.length;s<r;s+=1){const o=this._docs[s];t(o,s)&&(this.removeAt(s),s-=1,r-=1,n.push(o))}return n}removeAt(t){this._docs.splice(t,1),this._myIndex.removeAt(t)}getIndex(){return this._myIndex}search(t,{limit:n=-1}={}){const{includeMatches:s,includeScore:r,shouldSort:o,sortFn:i,ignoreFieldNorm:a}=this.options;let c=Ee(t)?Ee(this._docs[0])?this._searchStringList(t):this._searchObjectList(t):this._searchLogical(t);return Oi(c,{ignoreFieldNorm:a}),o&&c.sort(i),tn(n)&&n>-1&&(c=c.slice(0,n)),ji(c,this._docs,{includeMatches:s,includeScore:r})}_searchStringList(t){const n=rs(t,this.options),{records:s}=this._myIndex,r=[];return s.forEach(({v:o,i,n:a})=>{if(!_e(o))return;const{isMatch:c,score:d,indices:h}=n.searchIn(o);c&&r.push({item:o,idx:i,matches:[{score:d,value:o,norm:a,indices:h}]})}),r}_searchLogical(t){const n=cn(t,this.options),s=(a,c,d)=>{if(!a.children){const{keyId:v,searcher:p}=a,g=this._findMatches({key:this._keyStore.get(v),value:this._myIndex.getValueForItemAtKeyId(c,v),searcher:p});return g&&g.length?[{idx:d,item:c,matches:g}]:[]}const h=[];for(let v=0,p=a.children.length;v<p;v+=1){const g=a.children[v],y=s(g,c,d);if(y.length)h.push(...y);else if(a.operator===Nt.AND)return[]}return h},r=this._myIndex.records,o={},i=[];return r.forEach(({$:a,i:c})=>{if(_e(a)){let d=s(n,a,c);d.length&&(o[c]||(o[c]={idx:c,item:a,matches:[]},i.push(o[c])),d.forEach(({matches:h})=>{o[c].matches.push(...h)}))}}),i}_searchObjectList(t){const n=rs(t,this.options),{keys:s,records:r}=this._myIndex,o=[];return r.forEach(({$:i,i:a})=>{if(!_e(i))return;let c=[];s.forEach((d,h)=>{c.push(...this._findMatches({key:d,value:i[h],searcher:n}))}),c.length&&o.push({idx:a,item:i,matches:c})}),o}_findMatches({key:t,value:n,searcher:s}){if(!_e(n))return[];let r=[];if(Ve(n))n.forEach(({v:o,i,n:a})=>{if(!_e(o))return;const{isMatch:c,score:d,indices:h}=s.searchIn(o);c&&r.push({score:d,key:t,value:o,idx:i,norm:a,indices:h})});else{const{v:o,n:i}=n,{isMatch:a,score:c,indices:d}=s.searchIn(o);a&&r.push({score:c,key:t,value:o,norm:i,indices:d})}return r}}nt.version="7.0.0";nt.createIndex=on;nt.parseIndex=xi;nt.config=C;nt.parseQuery=cn;Ni(Ai);const Bi={class:"bg-main transform",shadow:"~",p:"x-4 y-2",border:"~ transparent rounded dark:main"},Ki=["value","disabled"],Hi={table:"","w-full":"","border-collapse":""},Ui=["border","onClick"],Gi={"text-right":"",op50:"","text-sm":"","table-cell":"","py-2":"","pl-4":"","pr-3":"","vertical-middle":""},Wi=X({__name:"Goto",setup(e){const t=z(),n=z(),s=z(),r=z(),o=z(""),i=z(0),{go:a,slides:c}=fe();function d(k){return k!=null}const h=P(()=>new nt(c.value.map(k=>{var j;return(j=k.meta)==null?void 0:j.slide}).filter(d),{keys:["no","title"],threshold:.3,shouldSort:!0,minMatchCharLength:1})),v=P(()=>o.value.startsWith("/")?o.value.substring(1):o.value),p=P(()=>h.value.search(v.value).map(k=>k.item)),g=P(()=>!!p.value.length);function y(){if(g.value){const k=p.value.at(i.value||0);k&&a(k.no)}_()}function _(){o.value="",Fe.value=!1}function m(k){k.preventDefault(),i.value++,i.value>=p.value.length&&(i.value=0),I()}function x(k){k.preventDefault(),i.value--,i.value<=-2&&(i.value=p.value.length-1),I()}function I(){var j;const k=(j=r.value)==null?void 0:j[i.value];k&&s.value&&(k.offsetTop+k.offsetHeight>s.value.offsetHeight+s.value.scrollTop?s.value.scrollTo({behavior:"smooth",top:k.offsetTop+k.offsetHeight-s.value.offsetHeight+1}):k.offsetTop<s.value.scrollTop&&s.value.scrollTo({behavior:"smooth",top:k.offsetTop}))}function w(k){i.value=0,o.value=k.target.value}function T(k){a(k),_()}return Ye(Fe,async k=>{var j;k?(o.value="",i.value=0,setTimeout(()=>{var M;return(M=n.value)==null?void 0:M.focus()},0)):(j=n.value)==null||j.blur()}),Ye(dt,()=>{var k;(k=t.value)!=null&&k.contains(dt.value)||_()}),(k,j)=>(u(),f("div",{id:"slidev-goto-dialog",ref_key:"container",ref:t,class:Q(["fixed right-5 transition-all",l(Fe)?"top-5":"-top-20"]),"w-90":"","max-w-90":"","min-w-90":""},[b("div",Bi,[b("input",{id:"slidev-goto-input",ref_key:"input",ref:n,value:o.value,type:"text",disabled:!l(Fe),class:Q(["outline-none bg-transparent",{"text-red-400":!g.value&&o.value}]),placeholder:"Goto...",onKeydown:[_t(y,["enter"]),_t(_,["escape"]),_t(m,["down"]),_t(x,["up"])],onInput:w},null,42,Ki)]),p.value.length>0?(u(),f("div",{key:0,ref_key:"list",ref:s,class:"autocomplete-list",shadow:"~",border:"~ transparent rounded dark:main"},[b("ul",Hi,[(u(!0),f(K,null,mt(p.value,(M,G)=>(u(),f("li",{ref_for:!0,ref_key:"items",ref:r,key:M.id,role:"button",tabindex:"0","cursor-pointer":"",hover:"op100","table-row":"","items-center":"",border:G===0?void 0:"t main",class:Q(i.value===G?"bg-active op100":"op80"),onClick:Fs(O=>T(M.no),["stop","prevent"])},[b("div",Gi,xe(M.no),1),E(l(si),{"table-cell":"","py-2":"","pr-4":"","w-full":"",no:M.no},null,8,["no"])],10,Ui))),128))])],512)):S("v-if",!0)],2))}}),Yi=gt(Wi,[["__scopeId","data-v-cba06e55"]]),Xi="/Game-Audio-Design-Slidev/assets/logo-BYkHSa_O.png",Qi={key:0,class:"fixed top-0 bottom-0 left-0 right-0 grid z-modal"},Zi=X({__name:"Modal",props:{modelValue:{default:!1},class:{default:""}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,r=ls(n,"modelValue",t);function o(){r.value=!1}return(i,a)=>(u(),L(zs,null,[l(r)?(u(),f("div",Qi,[b("div",{bg:"black opacity-80",class:"absolute top-0 bottom-0 left-0 right-0 -z-1",onClick:a[0]||(a[0]=c=>o())}),b("div",{class:Q(["m-auto rounded-md bg-main shadow",n.class]),"dark:border":"~ main"},[je(i.$slots,"default")],2)])):S("v-if",!0)],1024))}}),Ji={class:"slidev-info-dialog slidev-layout flex flex-col gap-4 text-base"},qi=["innerHTML"],ea=X({__name:"InfoDialog",props:{modelValue:{default:!1}},emits:["update:modelValue"],setup(e,{emit:t}){const r=ls(e,"modelValue",t),o=P(()=>typeof le.info=="string");return(i,a)=>(u(),L(Zi,{modelValue:l(r),"onUpdate:modelValue":a[0]||(a[0]=c=>Je(r)?r.value=c:null),class:"px-6 py-4"},{default:N(()=>[b("div",Ji,[o.value?(u(),f("div",{key:0,class:"mb-4",innerHTML:l(le).info},null,8,qi)):S("v-if",!0),a[1]||(a[1]=b("a",{href:"https://github.com/slidevjs/slidev",target:"_blank",class:"!opacity-100 !border-none !text-current"},[b("div",{class:"flex gap-1 children:my-auto"},[b("div",{class:"opacity-50 text-sm mr-2"},"Powered by"),b("img",{class:"w-5 h-5",src:Xi,alt:"Slidev logo"}),b("div",{style:{color:"#2082A6"}},[b("b",null,"Sli"),Xe("dev ")])])],-1))])]),_:1},8,["modelValue"]))}}),$t=z(1),Pt=P(()=>An.value.length),oe=z(0),hs=z(0);function ta(){oe.value>$t.value&&(oe.value-=1)}function sa(){oe.value<Pt.value&&(oe.value+=1)}function na(){if(oe.value>$t.value){let e=oe.value-hs.value;e<$t.value&&(e=$t.value),oe.value=e}}function ra(){if(oe.value<Pt.value){let e=oe.value+hs.value;e>Pt.value&&(e=Pt.value),oe.value=e}}var As;(As=window.navigator.userAgent.match(/Chrome\/(\d+)/))==null||As[1];const Be=Vs({});let oa=[],ia=[];et(Be,"$syncUp",!0);et(Be,"$syncDown",!0);et(Be,"$paused",!1);et(Be,"$onSet",e=>oa.push(e));et(Be,"$onPatch",e=>ia.push(e));Nn();et(Be,"$patch",async()=>!1);const aa=Vn(Be,Be,!0);var Ns;(Ns=window.navigator.userAgent.match(/Chrome\/(\d+)/))==null||Ns[1];class la{constructor(){this._screenshotSession=null}getSnapshot(t,n){const s=t+(n?"-dark":"-light"),r=aa.state[s];if(!r)return;const o=Et(t);if(o&&(r==null?void 0:r.revision)===(o==null?void 0:o.meta.slide.revision))return r.image}async saveSnapshot(t,n,s){return!1}async startCapturing(t){return!1}}const ua=new la,ca=["innerHTML"],da=X({__name:"DrawingPreview",props:{page:{}},setup(e){const{drawingState:t}=st();return(n,s)=>l(t)[n.page]?(u(),f("svg",{key:0,class:"w-full h-full absolute top-0 pointer-events-none",innerHTML:l(t)[n.page]},null,8,ca)):S("v-if",!0)}}),ha={class:"sr-only"},ge=X({__name:"IconButton",props:{title:{},icon:{},as:{},to:{}},setup(e){const t=e,n=P(()=>t.as||(t.to?"router-link":"button"));return(s,r)=>(u(),L(ze(n.value),{class:"slidev-icon-btn",title:s.title,to:s.to},{default:N(()=>[b("span",ha,xe(s.title),1),je(s.$slots,"default",{},()=>[b("div",{class:Q(s.icon)},null,2)])]),_:3},8,["title","to"]))}}),fa=["id"],va=["id"],pa={class:"slidev-slide-container w-full h-full relative"},ma=["src"],ga=X({__name:"SlideContainer",props:{width:{type:Number},meta:{default:()=>({})},isMain:{type:Boolean,default:!1},no:{type:Number,required:!1},useSnapshot:{type:Boolean,default:!1},contentStyle:{type:Object,default:()=>({})}},setup(e){const t=e,{isPrintMode:n}=fe(),s=z(null),r=wn(s),o=z(null),i=P(()=>t.width??r.width.value),a=P(()=>t.width?t.width/ps.value:r.height.value),c=P(()=>ht.value&&!n.value?+ht.value:Math.min(i.value/Rt.value,a.value/Lt.value)),d=P(()=>({...t.contentStyle,height:`${Lt.value}px`,width:`${Rt.value}px`,transform:`translate(-50%, -50%) scale(${c.value})`,"--slidev-slide-scale":c.value})),h=P(()=>t.width?{width:`${t.width}px`,height:`${t.width/ps.value}px`}:{});t.isMain&&kn(P(()=>`:root { --slidev-slide-scale: ${c.value}; }`)),Oe(Us,c),Oe(Tn,o);const v=P(()=>{if(!(t.no==null||!t.useSnapshot))return ua.getSnapshot(t.no,pt.value)});return(p,g)=>v.value?(u(),f(K,{key:1},[S(" Image Snapshot "),b("div",pa,[b("img",{src:v.value,class:"w-full h-full object-cover",style:he(h.value)},null,12,ma),g[0]||(g[0]=b("div",{absolute:"","bottom-1":"","right-1":"","p0.5":"","text-cyan:75":"","bg-cyan:10":"",rounded:"",title:"Snapshot"},[b("div",{class:"i-carbon-camera"})],-1))])],2112)):(u(),f("div",{key:0,id:e.isMain?"slide-container":void 0,ref_key:"container",ref:s,class:"slidev-slide-container",style:he(h.value)},[b("div",{id:e.isMain?"slide-content":void 0,ref_key:"slideElement",ref:o,class:"slidev-slide-content",style:he(d.value)},[je(p.$slots,"default",{},void 0,!0)],12,va),je(p.$slots,"controls",{},void 0,!0)],12,fa))}}),dn=gt(ga,[["__scopeId","data-v-3d836f8a"]]),ya={render:()=>[]},_a={render:()=>[]},xa={render:()=>[]},ba={render:()=>[]},wa=["data-slidev-no","lang"],ka=X({__name:"SlideWrapper",props:{clicksContext:{type:Object,required:!0},renderContext:{type:String,default:"slide"},route:{type:Object,required:!0}},setup(e){const t=e,n=P(()=>{var o,i;return((i=(o=t.route.meta)==null?void 0:o.slide)==null?void 0:i.frontmatter.zoom)??1});Oe(On,t.route),Oe(Fn,t.route.meta.slide.frontmatter),Oe(zn,z(t.route.no)),Oe(jn,z(t.renderContext)),Oe(Bn,Sn(t,"clicksContext")),Oe(Kn,n);const s=P(()=>n.value===1?void 0:{width:`${100/n.value}%`,height:`${100/n.value}%`,transformOrigin:"top left",transform:`scale(${n.value})`}),r=P(()=>({...s.value,"user-select":le.selectable?void 0:"none"}));return(o,i)=>(u(),f("div",{"data-slidev-no":t.route.no,class:Q(l(Hn)(e.route,["slide","presenter"].includes(t.renderContext)?"":"disable-view-transition")),style:he(r.value),lang:t.route.meta.slide.frontmatter.lang},[E(l(ba)),(u(),L(ze(t.route.component))),E(l(xa))],14,wa))}}),hn=gt(ka,[["__scopeId","data-v-a155920e"]]),Sa=["onClick"],Ma={class:"text-green font-bold"},$a={class:"opacity-50"},Pa={key:1,class:"opacity-50"},Ca={class:"fixed top-4 right-4 z-modal text-gray-400 flex flex-col items-center gap-2"},Ut=4*16*2,Rs=2*16,Ea=X({__name:"QuickOverview",setup(e){const t=fe(),{currentSlideNo:n,go:s,slides:r}=t;function o(){ye.value=!1}function i(g){s(g),o()}function a(g){return g===oe.value}const c=Xt.smaller("xs"),d=Xt.smaller("sm"),h=P(()=>c.value?Ge.width.value-Ut:d.value?(Ge.width.value-Ut-Rs)/2:300),v=P(()=>Math.floor((Ge.width.value-Ut)/(h.value+Rs))),p=z("");return as("keypress",g=>{if(!ye.value){p.value="";return}if(g.key==="Enter"){g.preventDefault(),p.value?(i(+p.value),p.value=""):i(oe.value);return}const y=Number.parseInt(g.key.replace(/\D/g,""));if(Number.isNaN(y)){p.value="";return}if(!p.value&&y===0)return;if(p.value+=String(y),+p.value>=r.value.length){p.value="";return}const _=r.value.findIndex(m=>`/${m.no}`===p.value);_!==-1&&(oe.value=_+1),+p.value*10>r.value.length&&(i(+p.value),p.value="")}),Ct(()=>{oe.value=n.value,hs.value=v.value}),(g,y)=>(u(),f(K,null,[E(Mn,{"enter-active-class":"duration-150 ease-out","enter-from-class":"opacity-0 scale-102 !backdrop-blur-0px","leave-active-class":"duration-200 ease-in","leave-to-class":"opacity-0 scale-102 !backdrop-blur-0px"},{default:N(()=>[l(ye)?(u(),f("div",{key:0,class:"fixed left-0 right-0 top-0 h-[calc(var(--vh,1vh)*100)] z-modal bg-main !bg-opacity-75 p-16 py-20 overflow-y-auto backdrop-blur-5px select-none",onClick:o},[b("div",{class:"grid gap-y-4 gap-x-8 w-full",style:he(`grid-template-columns: repeat(auto-fit,minmax(${h.value}px,1fr))`)},[(u(!0),f(K,null,mt(l(r),(_,m)=>(u(),f("div",{key:_.no,class:"relative"},[b("div",{class:Q(["inline-block border rounded overflow-hidden bg-main hover:border-primary transition",a(m+1)||l(oe)===m+1?"border-primary":"border-main"]),onClick:x=>i(_.no)},[(u(),L(dn,{key:_.no,no:_.no,"use-snapshot":!0,width:h.value,class:"pointer-events-none"},{default:N(()=>[E(hn,{"clicks-context":l(Gs)(_,l(Ws)),route:_,"render-context":"overview"},null,8,["clicks-context","route"]),E(da,{page:_.no},null,8,["page"])]),_:2},1032,["no","width"]))],10,Sa),b("div",{class:"absolute top-0",style:he(`left: ${h.value+5}px`)},[p.value&&String(m+1).startsWith(p.value)?(u(),f(K,{key:0},[b("span",Ma,xe(p.value),1),b("span",$a,xe(String(m+1).slice(p.value.length)),1)],64)):(u(),f("span",Pa,xe(m+1),1))],4)]))),128))],4)])):S("v-if",!0)]),_:1}),vt(b("div",Ca,[E(ge,{title:"Close",class:"text-2xl",onClick:o},{default:N(()=>y[0]||(y[0]=[b("div",{class:"i-carbon:close"},null,-1)])),_:1}),S("v-if",!0),S("v-if",!0)],512),[[js,l(ye)]])],64))}}),Ia=X({__name:"Controls",setup(e){const{isEmbedded:t}=fe(),n=!le.drawings.presenterOnly&&!t.value,s=We();n&&Ys(()=>import("./DrawingControls-DiJkOWG-.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8])).then(i=>s.value=i.default);const r=We(),o=We();return(i,a)=>(u(),f(K,null,[s.value?(u(),L(l(s),{key:0})):S("v-if",!0),E(Ea),E(Yi),r.value?(u(),L(l(r),{key:1})):S("v-if",!0),o.value?(u(),L(l(o),{key:2,modelValue:l(Ft),"onUpdate:modelValue":a[0]||(a[0]=c=>Je(Ft)?Ft.value=c:null)},null,8,["modelValue"])):S("v-if",!0),l(le).info?(u(),L(ea,{key:3,modelValue:l(ft),"onUpdate:modelValue":a[1]||(a[1]=c=>Je(ft)?ft.value=c:null)},null,8,["modelValue"])):S("v-if",!0),E(Zr)],64))}}),Ra={render:()=>[]},La={key:0,class:"bg-main text-main shadow-xl absolute bottom-10 left-0 z-menu py2",border:"~ main rounded-md"},Da=X({__name:"MenuButton",props:{modelValue:{default:!1},disabled:{default:!1}},setup(e,{emit:t}){const r=ls(e,"modelValue",t,{passive:!0}),o=z();return Os(o,()=>{r.value=!1}),(i,a)=>(u(),f("div",{ref_key:"el",ref:o,class:"flex relative"},[b("button",{class:Q({disabled:e.disabled}),onClick:a[0]||(a[0]=c=>r.value=!l(r))},[je(i.$slots,"button",{class:Q({disabled:e.disabled})})],2),(u(),L(zs,null,[l(r)?(u(),f("div",La,[je(i.$slots,"menu")])):S("v-if",!0)],1024))],512))}}),Aa={border:"~ main rounded",flex:"~ gap-2 items-center",relative:"","h-5":"","w-5":"","p0.5":"","hover:bg-active":"",p1:""},Na=["disabled"],Gt=X({__name:"FormCheckbox",props:Bs({disabled:{type:Boolean}},{modelValue:{type:Boolean,type:Boolean},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=Ks(e,"modelValue");return(n,s)=>(u(),f("div",Aa,[b("div",{"i-ri-check-line":"",class:Q(t.value?"":"op0")},null,2),vt(b("input",{"onUpdate:modelValue":s[0]||(s[0]=r=>t.value=r),type:"checkbox",absolute:"","inset-0":"","opacity-0.1":"",disabled:n.disabled},null,8,Na),[[$n,t.value]])]))}}),Va={"w-30":"","h-8":"",flex:"~ gap-1 items-center"},Ta={key:0,"w-1.5":"","h-1.5":"","bg-primary":"",rounded:"",absolute:"","top-0":"","right--2":""},Oa={key:0,"w-1.5":"","h-1.5":"","bg-primary":"",rounded:"",absolute:"","top-0":"","right--2":""},Fa=["innerHTML"],Ae=X({__name:"FormItem",props:{title:{},nested:{type:[Boolean,Number]},div:{type:Boolean},description:{},dot:{type:Boolean}},emits:["reset"],setup(e,{emit:t}){const n=t;function s(){n("reset")}return(r,o)=>(u(),L(ze(r.div?"div":"label"),{flex:"~ row gap-2 items-center","select-none":""},{default:N(()=>[b("div",Va,[r.nested?(u(),f("div",{key:0,"i-ri-corner-down-right-line":"",op40:"",style:he(typeof r.nested=="number"?{marginLeft:`${r.nested*.5+.5}rem`}:{marginLeft:"0.25rem"})},null,4)):S("v-if",!0),r.description?(u(),L(l(rr),{key:2,distance:"10"},{popper:N(()=>[b("div",{"text-sm":"","min-w-90":"",innerHTML:r.description},null,8,Fa)]),default:N(()=>[b("div",{op75:"","text-right":"",relative:"",onDblclick:s},[Xe(xe(r.title)+" ",1),r.dot?(u(),f("div",Oa)):S("v-if",!0)],32)]),_:1})):(u(),f("div",{key:1,op75:"",relative:"",onDblclick:s},[Xe(xe(r.title)+" ",1),r.dot?(u(),f("div",Ta)):S("v-if",!0)],32))]),je(r.$slots,"default")]),_:3}))}}),za={relative:"","h-22px":""},ja={key:0,"pointer-events-none":"",absolute:"","right-1":"","top-0.5":"","text-xs":"",op25:""},ut=X({__name:"FormSlider",props:Bs({max:{},min:{},step:{},unit:{},default:{}},{modelValue:{type:Number},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=e,n=Ks(e,"modelValue");return(s,r)=>(u(),f(K,null,[b("div",{relative:"","h-22px":"","w-60":"","flex-auto":"",onDblclick:r[1]||(r[1]=o=>t.default!==void 0?n.value=t.default:null)},[vt(b("input",Yt({"onUpdate:modelValue":r[0]||(r[0]=o=>n.value=o),type:"range",class:"slider"},t,{absolute:"","bottom-0":"","left-0":"","right-0":"","top-0":"","z-10":"","w-full":"","align-top":""}),null,16),[[fs,n.value,void 0,{number:!0}]]),t.default!=null?(u(),f("span",{key:0,border:"r main",absolute:"","bottom-0":"","top-0":"","h-full":"","w-1px":"",op75:"",style:he({left:`${(t.default-s.min)/(s.max-s.min)*100}%`})},null,4)):S("v-if",!0)],32),b("div",za,[vt(b("input",Yt({"onUpdate:modelValue":r[2]||(r[2]=o=>n.value=o),type:"number"},t,{border:"~ main rounded",m0:"","w-20":"","bg-gray:5":"",pl2:"","align-top":"","text-sm":""}),null,16),[[fs,n.value,void 0,{number:!0}]]),t.unit?(u(),f("span",ja,xe(t.unit),1)):S("v-if",!0)])],64))}}),Ls={error:0,client:60,Light:60,Dark:240};function Ds(e,t=1){if(Ls[e])return Vt(Ls[e],t);let n=0;for(let r=0;r<e.length;r++)n=e.charCodeAt(r)+((n<<5)-n);const s=n%360;return Vt(s,t)}function Vt(e,t=1){const n=e===-1?0:pt.value?50:100,s=pt.value?60:20;return`hsla(${e}, ${n}%, ${s}%, ${t})`}const Ba=["textContent"],Ka=X({__name:"Badge",props:{text:{},color:{type:[Boolean,Number],default:!0},as:{},size:{}},setup(e){const t=e,n=P(()=>!t.text||t.color===!1?{}:{color:typeof t.color=="number"?Vt(t.color):Ds(t.text),background:typeof t.color=="number"?Vt(t.color,.1):Ds(t.text,.1)}),s=P(()=>{switch(t.size||"sm"){case"sm":return"px-1.5 text-11px leading-1.6em"}return""});return(r,o)=>(u(),L(ze(r.as||"span"),{"ws-nowrap":"",rounded:"",class:Q(s.value),style:he(n.value)},{default:N(()=>[je(r.$slots,"default",{},()=>[b("span",{textContent:xe(t.text)},null,8,Ba)])]),_:3},8,["class","style"]))}}),Ha={flex:"~ gap-1 items-center",rounded:"","bg-gray:4":"",p1:"","m--1":""},Ua=X({__name:"SegmentControl",props:{options:{},modelValue:{}},emits:["update:modelValue"],setup(e){return(t,n)=>(u(),f("div",Ha,[(u(!0),f(K,null,mt(t.options,s=>(u(),L(Ka,{key:s.value,class:Q(["px-2 py-1 text-xs font-mono",s.value===t.modelValue?"":"op50"]),color:s.value===t.modelValue,"aria-pressed":s.value===t.modelValue,size:"none",text:s.label,as:"button",onClick:r=>t.$emit("update:modelValue",s.value)},null,8,["class","color","aria-pressed","text","onClick"]))),128))]))}}),Ga={"text-sm":"","select-none":"",flex:"~ col gap-1","min-w-30":"",px4:""},Wa=X({__name:"Settings",setup(e){const{isPresenter:t}=fe(),{isSupported:n}=Ts();return(s,r)=>(u(),f("div",Ga,[E(Ae,{title:"Invert",dot:l(V).invert!==l(Z).invert,onReset:r[1]||(r[1]=o=>l(V).invert=l(Z).invert)},{default:N(()=>[E(Gt,{modelValue:l(V).invert,"onUpdate:modelValue":r[0]||(r[0]=o=>l(V).invert=o)},null,8,["modelValue"])]),_:1},8,["dot"]),E(Ae,{title:"Brightness",dot:l(V).brightness!==l(Z).brightness,onReset:r[3]||(r[3]=o=>l(V).brightness=l(Z).brightness)},{default:N(()=>[E(ut,{modelValue:l(V).brightness,"onUpdate:modelValue":r[2]||(r[2]=o=>l(V).brightness=o),max:1.5,min:.5,step:.02,default:l(Z).brightness},null,8,["modelValue","default"])]),_:1},8,["dot"]),E(Ae,{title:"Contrast",dot:l(V).contrast!==l(Z).contrast,onReset:r[5]||(r[5]=o=>l(V).contrast=l(Z).contrast)},{default:N(()=>[E(ut,{modelValue:l(V).contrast,"onUpdate:modelValue":r[4]||(r[4]=o=>l(V).contrast=o),max:1.5,min:.5,step:.02,default:l(Z).contrast},null,8,["modelValue","default"])]),_:1},8,["dot"]),E(Ae,{title:"Saturation",dot:l(V).saturate!==l(Z).saturate,onReset:r[7]||(r[7]=o=>l(V).saturate=l(Z).saturate)},{default:N(()=>[E(ut,{modelValue:l(V).saturate,"onUpdate:modelValue":r[6]||(r[6]=o=>l(V).saturate=o),max:1.5,min:.5,step:.02,default:l(Z).saturate},null,8,["modelValue","default"])]),_:1},8,["dot"]),E(Ae,{title:"Sepia",dot:l(V).sepia!==l(Z).sepia,onReset:r[9]||(r[9]=o=>l(V).sepia=l(Z).sepia)},{default:N(()=>[E(ut,{modelValue:l(V).sepia,"onUpdate:modelValue":r[8]||(r[8]=o=>l(V).sepia=o),max:2,min:-2,step:.02,default:l(Z).sepia},null,8,["modelValue","default"])]),_:1},8,["dot"]),E(Ae,{title:"Hue Rotate",dot:l(V).hueRotate!==l(Z).hueRotate,onReset:r[11]||(r[11]=o=>l(V).hueRotate=l(Z).hueRotate)},{default:N(()=>[E(ut,{modelValue:l(V).hueRotate,"onUpdate:modelValue":r[10]||(r[10]=o=>l(V).hueRotate=o),max:180,min:-180,step:.1,default:l(Z).hueRotate},null,8,["modelValue","default"])]),_:1},8,["dot"]),r[15]||(r[15]=b("div",{class:"h-1px opacity-5 bg-current w-full my2"},null,-1)),l(t)?S("v-if",!0):(u(),L(Ae,{key:0,title:"Slide Scale"},{default:N(()=>[E(Ua,{modelValue:l(ht),"onUpdate:modelValue":r[12]||(r[12]=o=>Je(ht)?ht.value=o:null),options:[{label:"Fit",value:0},{label:"1:1",value:1}]},null,8,["modelValue"])]),_:1})),l(n)?(u(),L(Ae,{key:1,title:"Wake Lock"},{default:N(()=>[E(Gt,{modelValue:l(Mt),"onUpdate:modelValue":r[13]||(r[13]=o=>Je(Mt)?Mt.value=o:null)},null,8,["modelValue"])]),_:1})):S("v-if",!0),l(t)?S("v-if",!0):(u(),L(Ae,{key:2,title:"Hide Idle Cursor"},{default:N(()=>[E(Gt,{modelValue:l(St),"onUpdate:modelValue":r[14]||(r[14]=o=>Je(St)?St.value=o:null)},null,8,["modelValue"])]),_:1}))]))}}),Ya={},Xa={class:"w-1px opacity-10 bg-current m-1 lg:m-2"};function Qa(e,t){return u(),f("div",Xa)}const ct=gt(Ya,[["render",Qa]]),Za={key:0,class:"i-carbon:minimize"},Ja={key:1,class:"i-carbon:maximize"},qa={key:0,"w-2":"","h-2":"","bg-primary":"","rounded-full":"",absolute:"","top-0.5":"","right-0.5":""},el={class:"h-40px flex",p:"l-1 t-0.5 r-2",text:"sm leading-2"},tl={class:"my-auto"},sl={class:"opacity-50"},nl=X({__name:"NavControls",props:{persist:{default:!1}},setup(e){const t=e,{currentSlideNo:n,hasNext:s,hasPrev:r,isEmbedded:o,isPresenter:i,isPresenterAvailable:a,next:c,prev:d,total:h,enterPresenter:v,exitPresenter:p}=fe(),{brush:g,drawingEnabled:y}=st(),_=Xt.smaller("md"),{isFullscreen:m,toggle:x}=us,I=z();function w(){I.value&&dt.value&&I.value.contains(dt.value)&&dt.value.blur()}const T=P(()=>t.persist?"text-$slidev-controls-foreground bg-transparent":"rounded-md bg-main shadow-xl border border-main"),k=We();return(j,M)=>{const G=tr,O=sr,F=Qs,ee=nr;return u(),f("nav",{ref_key:"root",ref:I,class:"flex flex-col"},[b("div",{class:Q(["flex flex-wrap-reverse text-xl gap-0.5 p-1 lg:p-2",T.value]),onMouseleave:w},[l(o)?S("v-if",!0):(u(),L(ge,{key:0,title:l(m)?"Close fullscreen":"Enter fullscreen",onClick:l(x)},{default:N(()=>[l(m)?(u(),f("div",Za)):(u(),f("div",Ja))]),_:1},8,["title","onClick"])),E(ge,{class:Q({disabled:!l(r)}),title:"Go to previous slide",onClick:l(d)},{default:N(()=>M[6]||(M[6]=[b("div",{class:"i-carbon:arrow-left"},null,-1)])),_:1},8,["class","onClick"]),E(ge,{class:Q({disabled:!l(s)}),title:"Go to next slide",onClick:l(c)},{default:N(()=>M[7]||(M[7]=[b("div",{class:"i-carbon:arrow-right"},null,-1)])),_:1},8,["class","onClick"]),l(o)?S("v-if",!0):(u(),L(ge,{key:1,title:"Show slide overview",onClick:M[0]||(M[0]=ne=>l(It)())},{default:N(()=>M[8]||(M[8]=[b("div",{class:"i-carbon:apps"},null,-1)])),_:1})),l(Un)?S("v-if",!0):(u(),L(ge,{key:2,title:l(pt)?"Switch to light mode theme":"Switch to dark mode theme",onClick:M[1]||(M[1]=ne=>l(Qt)())},{default:N(()=>[l(pt)?(u(),L(G,{key:0})):(u(),L(O,{key:1}))]),_:1},8,["title"])),E(ct),l(o)?S("v-if",!0):(u(),f(K,{key:3},[!l(i)&&!l(_)&&k.value?(u(),f(K,{key:0},[E(l(k)),E(ct)],64)):S("v-if",!0),l(i)?(u(),L(ge,{key:1,title:l(bt)?"Hide presenter cursor":"Show presenter cursor",onClick:M[2]||(M[2]=ne=>bt.value=!l(bt))},{default:N(()=>[l(bt)?(u(),L(F,{key:0})):(u(),L(ee,{key:1}))]),_:1},8,["title"])):S("v-if",!0)],64)),(!l(le).drawings.presenterOnly||l(i))&&!l(o)?(u(),f(K,{key:4},[E(ge,{class:"relative",title:l(y)?"Hide drawing toolbar":"Show drawing toolbar",onClick:M[3]||(M[3]=ne=>y.value=!l(y))},{default:N(()=>[M[9]||(M[9]=b("div",{class:"i-carbon:pen"},null,-1)),l(y)?(u(),f("div",{key:0,class:"absolute left-1 right-1 bottom-0 h-0.7 rounded-full",style:he({background:l(g).color})},null,4)):S("v-if",!0)]),_:1},8,["title"]),E(ct)],64)):S("v-if",!0),l(o)?S("v-if",!0):(u(),f(K,{key:5},[l(i)?(u(),L(ge,{key:0,title:"Play Mode",onClick:l(p)},{default:N(()=>M[10]||(M[10]=[b("div",{class:"i-carbon:presentation-file"},null,-1)])),_:1},8,["onClick"])):S("v-if",!0),S("v-if",!0),S("v-if",!0)],64)),(u(),f(K,{key:6},[l(le).download?(u(),L(ge,{key:0,title:"Download as PDF",onClick:l(Xs)},{default:N(()=>M[13]||(M[13]=[b("div",{class:"i-carbon:download"},null,-1)])),_:1},8,["onClick"])):S("v-if",!0)],64)),S("v-if",!0),!l(i)&&l(le).info&&!l(o)?(u(),L(ge,{key:8,title:"Show info",onClick:M[5]||(M[5]=ne=>ft.value=!l(ft))},{default:N(()=>M[15]||(M[15]=[b("div",{class:"i-carbon:information"},null,-1)])),_:1})):S("v-if",!0),l(o)?S("v-if",!0):(u(),f(K,{key:9},[E(ct),l(i)?(u(),L(ge,{key:0,title:"Toggle Presenter Layout",class:"aspect-ratio-initial flex items-center",onClick:l(Wn)},{default:N(()=>[M[16]||(M[16]=b("div",{class:"i-carbon:template"},null,-1)),Xe(" "+xe(l(Gn)),1)]),_:1},8,["onClick"])):S("v-if",!0),S("v-if",!0),E(Da,null,{button:N(()=>[E(ge,{title:"More Options"},{default:N(()=>[M[17]||(M[17]=b("div",{class:"i-carbon:settings-adjust"},null,-1)),l(Yn)?(u(),f("div",qa)):S("v-if",!0)]),_:1})]),menu:N(()=>[E(Wa)]),_:1})],64)),l(o)?S("v-if",!0):(u(),L(ct,{key:10})),b("div",el,[b("div",tl,[Xe(xe(l(n))+" ",1),b("span",sl,"/ "+xe(l(h)),1)])]),E(l(Ra))],34)],512)}}}),rl={key:0,class:"absolute top-0 left-0 right-0 bottom-0 pointer-events-none text-xl"},ol=X({__name:"PresenterMouse",setup(e){return(t,n)=>{const s=Qs;return l(zt).cursor?(u(),f("div",rl,[E(s,{class:"absolute stroke-white dark:stroke-black",style:he({left:`${l(zt).cursor.x}%`,top:`${l(zt).cursor.y}%`,strokeWidth:16})},null,8,["style"])])):S("v-if",!0)}}});function il(){const e=Pn(),t=z(!1);let n,s;const r=typeof document<"u"&&"startViewTransition"in document;return e.beforeResolve((o,i)=>{var _,m,x,I;const a=(_=Et(i.params.no))==null?void 0:_.meta,c=(m=Et(o.params.no))==null?void 0:m.meta,d=(x=a==null?void 0:a.slide)==null?void 0:x.no,h=(I=c==null?void 0:c.slide)==null?void 0:I.no;if((d!=null&&h!=null&&d!==h&&((d<h?a==null?void 0:a.transition:c==null?void 0:c.transition)??le.transition))!=="view-transition"){t.value=!1;return}if(!r){t.value=!1,console.warn("View transition is not supported in your browser, fallback to normal transition.");return}t.value=!0;const p=new Promise((w,T)=>{n=w,s=T});let g;const y=new Promise(w=>g=w);return setTimeout(()=>{document.startViewTransition(()=>(g(),p))},50),y}),r&&e.afterEach(()=>{n==null||n(),s==null||s()}),t}const al=["data-drag-id"],Se=10,Te=10,Wt="absolute border border-gray bg-gray dark:border-gray-500 dark:bg-gray-800 bg-opacity-30 ",kt=20,ll=X({__name:"DragControl",props:{data:{}},setup(e){const{dragId:t,zoom:n,autoHeight:s,x0:r,y0:o,width:i,height:a,rotate:c,isArrow:d}=e.data,h=Cn(Us,z(1)),v=P(()=>h.value*n.value),{left:p,top:g}=Xn(),y=d?Number.NEGATIVE_INFINITY:40,_=P(()=>c.value*Math.PI/180),m=P(()=>Math.sin(_.value)),x=P(()=>Math.cos(_.value)),I=P(()=>i.value*x.value+a.value*m.value),w=P(()=>i.value*m.value+a.value*x.value),T=P(()=>r.value-I.value/2),k=P(()=>o.value-w.value/2),j=P(()=>r.value+I.value/2),M=P(()=>o.value+w.value/2),G=P(()=>d&&i.value<0),O=P(()=>d&&a.value<0);let F=null;function ee($){if($.buttons!==1)return;$.preventDefault(),$.stopPropagation();const U=$.target.getBoundingClientRect(),R=i.value*x.value-a.value*m.value,A=i.value*m.value+a.value*x.value,re=i.value*x.value+a.value*m.value,ie=-i.value*m.value+a.value*x.value;F={x0:r.value,y0:o.value,width:i.value,height:a.value,rotate:c.value,dx0:$.clientX-(U.left+U.right)/2,dy0:$.clientY-(U.top+U.bottom)/2,ltx:r.value-R/2,lty:o.value-A/2,rtx:r.value+re/2,rty:o.value-ie/2,lbx:r.value-re/2,lby:o.value+ie/2,rbx:r.value+R/2,rby:o.value+A/2},$.currentTarget.setPointerCapture($.pointerId)}function ne($){if(!F||$.buttons!==1)return;$.preventDefault(),$.stopPropagation();const Y=($.clientX-p.value-F.dx0)/v.value,U=($.clientY-g.value-F.dy0)/v.value;r.value=ms(Y,-I.value/2+Te,Rt.value+I.value/2-Te),o.value=ms(U,-w.value/2+Te,Lt.value+w.value/2-Te)}function ue($){F&&($.preventDefault(),$.stopPropagation(),F=null)}function H($,Y){return{onPointerdown:ee,onPointermove:U=>{if(!F||U.buttons!==1)return;U.preventDefault(),U.stopPropagation();let R=(U.clientX-p.value)/v.value,A=(U.clientY-g.value)/v.value;const{ltx:re,lty:ie,rtx:be,rty:te,lbx:pe,lby:ce,rbx:Re,rby:se}=F,ae=F.width/F.height,fn=Math.max(y,y*ae);function yt(Pe,Ce){if(U.shiftKey){const de=Math.max(Pe,Ce*ae,fn),me=de/ae;return{w:de,h:me}}else return{w:Math.max(Pe,y),h:Math.max(Ce,y)}}if($)if(Y){const Pe=(Re-R)*x.value+(se-A)*m.value,Ce=-(Re-R)*m.value+(se-A)*x.value,{w:de,h:me}=yt(Pe,Ce);R=Re-de*x.value+me*m.value,A=se-de*m.value-me*x.value}else{const Pe=(be-R)*x.value-(A-te)*m.value,Ce=(be-R)*m.value+(A-te)*x.value,{w:de,h:me}=yt(Pe,Ce);R=be-de*x.value-me*m.value,A=te-de*m.value+me*x.value}else if(Y){const Pe=(R-pe)*x.value-(ce-A)*m.value,Ce=(R-pe)*m.value+(ce-A)*x.value,{w:de,h:me}=yt(Pe,Ce);R=pe+de*x.value+me*m.value,A=ce+de*m.value-me*x.value}else{const Pe=(R-re)*x.value+(A-ie)*m.value,Ce=-(R-re)*m.value+(A-ie)*x.value,{w:de,h:me}=yt(Pe,Ce);R=re+de*x.value-me*m.value,A=ie+de*m.value+me*x.value}$?Y?(r.value=(R+Re)/2,o.value=(A+se)/2,i.value=(Re-R)*x.value+(se-A)*m.value,a.value=-(Re-R)*m.value+(se-A)*x.value):(r.value=(R+be)/2,o.value=(A+te)/2,i.value=(be-R)*x.value-(A-te)*m.value,a.value=(be-R)*m.value+(A-te)*x.value):Y?(r.value=(R+pe)/2,o.value=(A+ce)/2,i.value=(R-pe)*x.value-(ce-A)*m.value,a.value=(R-pe)*m.value+(ce-A)*x.value):(r.value=(R+re)/2,o.value=(A+ie)/2,i.value=(R-re)*x.value+(A-ie)*m.value,a.value=-(R-re)*m.value+(A-ie)*x.value)},onPointerup:ue,style:{width:`${Se}px`,height:`${Se}px`,margin:`-${Se/2}px`,left:$!==G.value?"0":void 0,right:$!==G.value?void 0:"0",top:Y!==O.value?"0":void 0,bottom:Y!==O.value?void 0:"0",cursor:d?"move":+$+ +Y==1?"nesw-resize":"nwse-resize",borderRadius:d?"50%":void 0},class:Wt}}function ve($){return{onPointerdown:ee,onPointermove:Y=>{if(!F||Y.buttons!==1)return;Y.preventDefault(),Y.stopPropagation();const U=(Y.clientX-p.value)/v.value,R=(Y.clientY-g.value)/v.value,{ltx:A,lty:re,rtx:ie,rty:be,lbx:te,lby:pe,rbx:ce,rby:Re}=F;if($==="l"){const se=(ie+ce)/2,ae=(be+Re)/2;i.value=Math.max((se-U)*x.value+(ae-R)*m.value,y),r.value=se-i.value*x.value/2,o.value=ae-i.value*m.value/2}else if($==="r"){const se=(A+te)/2,ae=(re+pe)/2;i.value=Math.max((U-se)*x.value+(R-ae)*m.value,y),r.value=se+i.value*x.value/2,o.value=ae+i.value*m.value/2}else if($==="t"){const se=(te+ce)/2,ae=(pe+Re)/2;a.value=Math.max((ae-R)*x.value-(se-U)*m.value,y),r.value=se+a.value*m.value/2,o.value=ae-a.value*x.value/2}else if($==="b"){const se=(A+ie)/2,ae=(re+be)/2;a.value=Math.max((R-ae)*x.value-(U-se)*m.value,y),r.value=se-a.value*m.value/2,o.value=ae+a.value*x.value/2}},onPointerup:ue,style:{width:`${Se}px`,height:`${Se}px`,margin:`-${Se/2}px`,left:$==="l"?"0":$==="r"?"100%":"50%",top:$==="t"?"0":$==="b"?"100%":"50%",cursor:"lr".includes($)?"ew-resize":"ns-resize",borderRadius:"50%"},class:Wt}}function Ie(){return{onPointerdown:ee,onPointermove:$=>{if(!F||$.buttons!==1)return;$.preventDefault(),$.stopPropagation();const Y=($.clientX-p.value-F.dx0)/v.value-Se/4,U=($.clientY-g.value-F.dy0)/v.value-Se/4;let R=Math.atan2(U-o.value,Y-r.value)*180/Math.PI+90;const A=[0,90,180,270,360];for(const re of A)if(Math.abs(R-re)<5){R=re%360;break}c.value=R},onPointerup:ue,style:{width:`${Se}px`,height:`${Se}px`,margin:`-${Se/2}px`,left:"50%",top:"-20px",cursor:"grab",borderRadius:"50%"},class:Wt}}const D={immediate:!1,immediateCallback:!1},q=xt(()=>{j.value<=Te||r.value--},kt,D),B=xt(()=>{T.value>=Rt.value-Te||r.value++},kt,D),W=xt(()=>{M.value<=Te||o.value--},kt,D),rt=xt(()=>{k.value>=Lt.value-Te||o.value++},kt,D);return Ct(()=>{function $(Y,U){cs[Y].value?U.resume():U.pause()}$("left",q),$("right",B),$("up",W),$("down",rt)}),($,Y)=>Number.isFinite(l(r))?(u(),f("div",{key:0,id:"drag-control-container","data-drag-id":l(t),style:he({position:"absolute",zIndex:100,left:`${l(n)*(l(r)-Math.abs(l(i))/2)}px`,top:`${l(n)*(l(o)-Math.abs(l(a))/2)}px`,width:`${l(n)*Math.abs(l(i))}px`,height:`${l(n)*Math.abs(l(a))}px`,transformOrigin:"center center",transform:`rotate(${l(c)}deg)`}),onPointerdown:ee,onPointermove:ne,onPointerup:ue},[b("div",{class:Q(["absolute inset-0 z-nav dark:b-gray-400",l(d)?"":"b b-dark"])},[l(s)?S("v-if",!0):(u(),f(K,{key:0},[b("div",Le(De(H(!0,!0))),null,16),b("div",Le(De(H(!1,!1))),null,16),l(d)?S("v-if",!0):(u(),f(K,{key:0},[b("div",Le(De(H(!0,!1))),null,16),b("div",Le(De(H(!1,!0))),null,16)],64))],64)),l(d)?S("v-if",!0):(u(),f(K,{key:1},[b("div",Le(De(ve("l"))),null,16),b("div",Le(De(ve("r"))),null,16),l(s)?S("v-if",!0):(u(),f(K,{key:0},[b("div",Le(De(ve("t"))),null,16),b("div",Le(De(ve("b"))),null,16)],64)),b("div",Le(De(Ie())),null,16),b("div",{class:"absolute -top-15px w-0 b b-dashed b-dark dark:b-gray-400",style:he({left:"calc(50% - 1px)",height:l(s)?"14px":"10px"})},null,4)],64))],2)],44,al)):S("v-if",!0)}}),ul=X({__name:"SlidesShow",props:{renderContext:{}},setup(e){const{currentSlideRoute:t,currentTransition:n,getPrimaryClicks:s,prevRoute:r,nextRoute:o,slides:i,isPrintMode:a,isPrintWithClicks:c,clicksDirection:d,printRange:h}=fe();function v(m){m.meta.preload!==!1&&(m.meta.__preloaded=!0,m.load())}Ct(()=>{v(t.value),v(r.value),v(o.value)}),Ct(m=>{const x=i.value,I=setTimeout(()=>{x.forEach(v)},3e3);m(()=>clearTimeout(I))});const p=il(),g=We();Ys(()=>import("./DrawingLayer-BmNtFzqK.js"),__vite__mapDeps([9,1,6,4,2,3,5,7])).then(m=>g.value=m.default);const y=P(()=>a.value?h.value.map(m=>i.value[m-1]):i.value.filter(m=>{var x;return((x=m.meta)==null?void 0:x.__preloaded)||m===t.value}));function _(){jt.value=!0,or()}return(m,x)=>(u(),f(K,null,[S(" Global Bottom "),E(l(_a)),S(" Slides "),(u(),L(ze(l(p)&&!l(a)&&!l(jt)&&!l(gs)?"div":En),Yt(l(jt)||l(gs)||l(a)?{}:l(n),{id:"slideshow",tag:"div",class:{"slidev-nav-go-forward":l(d)>0,"slidev-nav-go-backward":l(d)<0},onAfterLeave:_}),{default:N(()=>[(u(!0),f(K,null,mt(y.value,I=>(u(),f(K,{key:I.no},[Math.abs(I.no-l(t).no)<=20?vt((u(),L(hn,{key:0,"clicks-context":l(a)&&!l(c)?l(Gs)(I,l(Ws)):l(s)(I),route:I,"render-context":m.renderContext},null,8,["clicks-context","route","render-context"])),[[js,I===l(t)]]):S("v-if",!0)],64))),128))]),_:1},16,["class"])),l(Zt)?(u(),L(ll,{key:0,data:l(Zt)},null,8,["data"])):S("v-if",!0),S(" Global Top "),E(l(ya)),g.value?(u(),L(l(g),{key:1})):S("v-if",!0)],64))}}),cl=gt(ul,[["__scopeId","data-v-6b6b5e46"]]),dl=[];function hl(){const{go:e,goFirst:t,goLast:n,next:s,nextSlide:r,prev:o,prevSlide:i}=fe(),{drawingEnabled:a}=st(),{escape:c,space:d,shift:h,left:v,right:p,up:g,down:y,enter:_,d:m,g:x,o:I,"`":w}=cs,T={next:s,prev:o,nextSlide:r,prevSlide:i,go:e,goFirst:t,goLast:n,downloadPDF:Xs,toggleDark:Qt,toggleOverview:It,toggleDrawing:()=>a.value=!a.value,escapeOverview:()=>ye.value=!1,showGotoDialog:()=>Fe.value=!Fe.value},k=J(we(ye),we(Zt));let j=[{name:"next_space",key:J(d,we(h)),fn:s,autoRepeat:!0},{name:"prev_space",key:J(d,h),fn:o,autoRepeat:!0},{name:"next_right",key:J(p,we(h),k),fn:s,autoRepeat:!0},{name:"prev_left",key:J(v,we(h),k),fn:o,autoRepeat:!0},{name:"next_page_key",key:"pageDown",fn:s,autoRepeat:!0},{name:"prev_page_key",key:"pageUp",fn:o,autoRepeat:!0},{name:"next_down",key:J(y,k),fn:r,autoRepeat:!0},{name:"prev_up",key:J(g,k),fn:i,autoRepeat:!0},{name:"next_shift",key:J(p,h),fn:r,autoRepeat:!0},{name:"prev_shift",key:J(v,h),fn:i,autoRepeat:!0},{name:"toggle_dark",key:J(m,we(a)),fn:Qt},{name:"toggle_overview",key:J(In(I,w),we(a)),fn:It},{name:"hide_overview",key:J(c,we(a)),fn:()=>ye.value=!1},{name:"goto",key:J(x,we(a)),fn:()=>Fe.value=!Fe.value},{name:"next_overview",key:J(p,ye),fn:sa},{name:"prev_overview",key:J(v,ye),fn:ta},{name:"up_overview",key:J(g,ye),fn:na},{name:"down_overview",key:J(y,ye),fn:ra},{name:"goto_from_overview",key:J(_,ye),fn:()=>{e(oe.value),ye.value=!1}}];const M=new Set(j.map(O=>O.name));for(const O of dl)j=O(T,j);if(j.filter(O=>O.name&&M.has(O.name)).length===0){const O=["========== WARNING ==========","defineShortcutsSetup did not return any of the base shortcuts.","See https://sli.dev/custom/config-shortcuts.html for migration.",'If it is intentional, return at least one shortcut with one of the base names (e.g. name:"goto").'].join(`

`);alert(O),console.warn(O)}return j}function fl(){const{isPrintMode:e}=fe(),t=J(we(Hs),we(Zn),we(e),Qn),n=hl();new Map(n.map(i=>[i.key,i])).forEach(i=>{i.fn&&r(i.key,i.fn,i.autoRepeat)}),o("f",()=>us.toggle());function r(i,a,c=!1){typeof i=="string"&&(i=cs[i]);const d=J(i,t);let h=0,v;const p=()=>{if(clearTimeout(v),!d.value){h=0;return}c&&(v=setTimeout(p,Math.max(1e3-h*250,150)),h++),a()};return Ye(d,p,{flush:"sync"})}function o(i,a){return Rn(i,c=>{t.value&&(c.repeat||a())})}}const vl=X({__name:"play",setup(e){const{next:t,prev:n,isPrintMode:s,isPresenter:r}=fe(),{isDrawing:o}=st(),i=z();function a(v){var p;qe.value||v.button===0&&((p=v.target)==null?void 0:p.id)==="slide-container"&&(v.pageX/window.innerWidth>.5?t():n())}Fr(i),fl(),zr(),Or(P(()=>!r.value&&!s.value));const c=P(()=>Jn.value||qe.value),d=We(),h=P(()=>{let v="";return V.value.brightness!==Z.brightness&&(v+=`brightness(${V.value.brightness}) `),V.value.contrast!==Z.contrast&&(v+=`contrast(${V.value.contrast}) `),V.value.sepia!==Z.sepia&&(v+=`sepia(${V.value.sepia}) `),V.value.hueRotate!==Z.hueRotate&&(v+=`hue-rotate(${V.value.hueRotate}deg) `),V.value.invert&&(v+="invert(1) "),{filter:v}});return(v,p)=>(u(),f(K,null,[b("div",{id:"page-root",ref_key:"root",ref:i,class:Q(["grid",l(qn)?"grid-rows-[1fr_max-content]":"grid-cols-[1fr_max-content]"])},[E(dn,{style:{background:"var(--slidev-slide-container-background, black)"},"is-main":"","content-style":h.value,onPointerdown:a,onContextmenu:l(Hr)},{default:N(()=>[E(cl,{"render-context":"slide"}),E(ol)]),controls:N(()=>[l(s)?S("v-if",!0):(u(),f("div",{key:0,class:Q(["absolute bottom-0 left-0 transition duration-300 opacity-0 hover:opacity-100 focus-within:opacity-100 focus-visible:opacity-100",[c.value?"!opacity-100 right-0":"opacity-0 p-2",l(o)?"pointer-events-none":""]])},[E(nl,{persist:c.value},null,8,["persist"])],2))]),_:1},8,["content-style","onContextmenu"]),d.value&&l(qe)?(u(),L(l(d),{key:0,resize:!0})):S("v-if",!0)],2),l(s)?S("v-if",!0):(u(),L(Ia,{key:0})),p[0]||(p[0]=b("div",{id:"twoslash-container"},null,-1))],64))}}),xl=Object.freeze(Object.defineProperty({__proto__:null,default:vl},Symbol.toStringTag,{value:"Module"}));export{ct as V,ge as _,xl as p,st as u};
