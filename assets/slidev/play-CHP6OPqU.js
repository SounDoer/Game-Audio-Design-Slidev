import{G as $,z as l,t as j,Q as fn,R as Tt,S as vn,U as Vs,y as pn,n as mn,O as Ye,V as as,W as gn,X as yn,Y as Ts,Z as We,d as X,_ as Fs,$ as _n,a0 as xn,o as u,b as f,F as U,a1 as pt,i as Q,c as R,a2 as ze,e as w,x as me,C as Xe,g as S,h as ge,a3 as Os,j as yt,l as C,a4 as ls,f as je,a5 as zs,k as N,a6 as Je,a7 as bn,a8 as wn,a9 as Fe,E as kn,N as Ct,aa as Sn,B as ft,ab as js,ac as Bs,ad as Ks,ae as Mn,af as fs,m as Yt,M as $n,ag as Pn,ah as _t,q as Le,s as Ne,ai as Cn,aj as J,ak as we,al as En,am as In}from"../modules/vue-B3kHpxrL.js";import{o as Et,u as ce,p as ye,q as Ft,r as vs,s as Rn,v as Hs,w as St,x as Mt,y as qe,z as It,A as us,B as Ln,D as Ge,E as Oe,G as ct,_ as mt,I as Nn,J as et,K as An,L as Dn,M as ps,N as dt,O as Rt,P as Lt,l as vt,f as Us,Q as Vn,e as Tn,d as Fn,b as On,c as zn,a as jn,g as Bn,R as Kn,S as Xt,T as ve,U as Gs,C as Ws,V as Ot,W as ht,X as A,Y as Z,Z as Hn,$ as Qt,a0 as xt,a1 as Ys,a2 as Un,a3 as Gn,a4 as Wn,a5 as zt,a6 as Yn,a7 as ms,a8 as cs,a9 as jt,aa as gs,ab as Zt,ac as Xn,ad as Qn,ae as Zn,af as Jn}from"../index-qXHsIQZt.js";import{u as qn}from"./context-CjsMuXZY.js";import{_ as er,a as tr,b as Xs,c as sr}from"../modules/unplugin-icons-B2a_EQzU.js";import{V as nr,t as rr}from"../modules/shiki-BZyxrpqZ.js";function or(e){var t;return{info:j(((t=Et(e))==null?void 0:t.meta.slide)??null),update:async()=>{}}}const Bt={};function ir(e){function t(n){return Bt[n]??(Bt[n]=or(n))}return{info:$({get(){return t(l(e)).info.value},set(n){t(l(e)).info.value=n}}),update:async(n,s)=>{const r=t(s??l(e)),o=await r.update(n);return o&&(r.info.value=o),o}}}var ar=Object.defineProperty,ys=Object.getOwnPropertySymbols,lr=Object.prototype.hasOwnProperty,ur=Object.prototype.propertyIsEnumerable,_s=(e,t,n)=>t in e?ar(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Jt=(e,t)=>{for(var n in t||(t={}))lr.call(t,n)&&_s(e,n,t[n]);if(ys)for(var n of ys(t))ur.call(t,n)&&_s(e,n,t[n]);return e},cr=()=>({emit(e,...t){for(let n=this.events[e]||[],s=0,r=n.length;s<r;s++)n[s](...t)},events:{},on(e,t){var n;return((n=this.events)[e]||(n[e]=[])).push(t),()=>{var s;this.events[e]=(s=this.events[e])==null?void 0:s.filter(r=>t!==r)}}});function Nt(e,t){return e-t}function dr(e){return e<0?-1:1}function At(e){return[Math.abs(e),dr(e)]}function Qs(){const e=()=>((1+Math.random())*65536|0).toString(16).substring(1);return`${e()+e()}-${e()}-${e()}-${e()}-${e()}${e()}${e()}`}var hr=2,De=hr;function Zs(e,t){const n=document.createElementNS("http://www.w3.org/2000/svg","defs"),s=document.createElementNS("http://www.w3.org/2000/svg","marker"),r=document.createElementNS("http://www.w3.org/2000/svg","path");return r.setAttribute("fill",t),s.setAttribute("id",e),s.setAttribute("viewBox","0 -5 10 10"),s.setAttribute("refX","5"),s.setAttribute("refY","0"),s.setAttribute("markerWidth","4"),s.setAttribute("markerHeight","4"),s.setAttribute("orient","auto"),r.setAttribute("d","M0,-5L10,0L0,5"),s.appendChild(r),n.appendChild(s),n}function fr(e,t){const n=e.x-t.x,s=e.y-t.y;return n*n+s*s}function vr(e,t,n){let s=t.x,r=t.y,o=n.x-s,i=n.y-r;if(o!==0||i!==0){const a=((e.x-s)*o+(e.y-r)*i)/(o*o+i*i);a>1?(s=n.x,r=n.y):a>0&&(s+=o*a,r+=i*a)}return o=e.x-s,i=e.y-r,o*o+i*i}function pr(e,t){let n=e[0];const s=[n];let r;for(let o=1,i=e.length;o<i;o++)r=e[o],fr(r,n)>t&&(s.push(r),n=r);return n!==r&&r&&s.push(r),s}function qt(e,t,n,s,r){let o=s,i=0;for(let a=t+1;a<n;a++){const c=vr(e[a],e[t],e[n]);c>o&&(i=a,o=c)}o>s&&(i-t>1&&qt(e,t,i,s,r),r.push(e[i]),n-i>1&&qt(e,i,n,s,r))}function mr(e,t){const n=e.length-1,s=[e[0]];return qt(e,0,n,t,s),s.push(e[n]),s}function xs(e,t,n=!1){if(e.length<=2)return e;const s=t*t;return e=n?e:pr(e,s),e=mr(e,s),e}var tt=class{constructor(e){this.drauu=e,this.event=void 0,this.point=void 0,this.start=void 0,this.el=null}onSelected(e){}onUnselected(){}onStart(e){}onMove(e){return!1}onEnd(e){}get brush(){return this.drauu.brush}get shiftPressed(){return this.drauu.shiftPressed}get altPressed(){return this.drauu.altPressed}get svgElement(){return this.drauu.el}getMousePosition(e){var t,n,s;const r=this.drauu.el,o=(t=this.drauu.options.coordinateScale)!=null?t:1,i=(n=this.drauu.options.offset)!=null?n:{x:0,y:0};if(this.drauu.options.coordinateTransform===!1){const a=this.drauu.el.getBoundingClientRect();return{x:(e.pageX-a.left+i.x)*o,y:(e.pageY-a.top+i.y)*o,pressure:e.pressure}}else{const a=this.drauu.svgPoint;a.x=e.clientX+i.x,a.y=e.clientY+i.y;const c=a.matrixTransform((s=r.getScreenCTM())==null?void 0:s.inverse());return{x:c.x*o,y:c.y*o,pressure:e.pressure}}}createElement(e,t){var n;const s=document.createElementNS("http://www.w3.org/2000/svg",e),r=t?Jt(Jt({},this.brush),t):this.brush;return s.setAttribute("fill",(n=r.fill)!=null?n:"transparent"),s.setAttribute("stroke",r.color),s.setAttribute("stroke-width",r.size.toString()),s.setAttribute("stroke-linecap","round"),r.dasharray&&s.setAttribute("stroke-dasharray",r.dasharray),s}attr(e,t){this.el.setAttribute(e,typeof t=="string"?t:t.toFixed(De))}_setEvent(e){this.event=e,this.point=this.getMousePosition(e)}_eventDown(e){return this._setEvent(e),this.start=this.point,this.onStart(this.point)}_eventMove(e){return this._setEvent(e),this.onMove(this.point)}_eventUp(e){return this._setEvent(e),this.onEnd(this.point)}},gr=class He extends tt{constructor(){super(...arguments),this.points=[],this.count=0}onStart(t){if(this.el=this.createElement("path",{fill:"transparent"}),this.points=[t],this.brush.arrowEnd){this.arrowId=Qs();const n=Zs(this.arrowId,this.brush.color);this.el.appendChild(n)}return this.el}onMove(t){return this.el||this.onStart(t),this.points[this.points.length-1]!==t&&(this.points.push(t),this.count+=1),this.count>5&&(this.points=xs(this.points,1,!0),this.count=0),this.attr("d",He.toSvgData(this.points)),!0}onEnd(){const t=this.el;if(this.el=null,!t)return!1;if(t.setAttribute("d",He.toSvgData(xs(this.points,1,!0))),!t.getTotalLength()){const{x:n,y:s}=this.points[0],r=this.brush.size/2;t.setAttribute("d",`M ${n-r} ${s} a ${r},${r} 0 1,0 ${r*2},0 a ${r},${r} 0 1,0 ${-r*2},0`),t.setAttribute("fill",this.brush.color),t.setAttribute("stroke-width","0")}return!0}static line(t,n){const s=n.x-t.x,r=n.y-t.y;return{length:Math.sqrt(s**2+r**2),angle:Math.atan2(r,s)}}static controlPoint(t,n,s,r){const o=n||t,i=s||t,a=.2,c=He.line(o,i),d=c.angle+(r?Math.PI:0),h=c.length*a,v=t.x+Math.cos(d)*h,p=t.y+Math.sin(d)*h;return{x:v,y:p}}static bezierCommand(t,n,s){const r=He.controlPoint(s[n-1],s[n-2],t),o=He.controlPoint(t,s[n-1],s[n+1],!0);return`C ${r.x.toFixed(De)},${r.y.toFixed(De)} ${o.x.toFixed(De)},${o.y.toFixed(De)} ${t.x.toFixed(De)},${t.y.toFixed(De)}`}static toSvgData(t){return t.reduce((n,s,r,o)=>r===0?`M ${s.x.toFixed(De)},${s.y.toFixed(De)}`:`${n} ${He.bezierCommand(s,r,o)}`,"")}},yr=class extends tt{onStart(e){return this.el=this.createElement("ellipse"),this.attr("cx",e.x),this.attr("cy",e.y),this.el}onMove(e){if(!this.el||!this.start)return!1;let[t,n]=At(e.x-this.start.x),[s,r]=At(e.y-this.start.y);if(this.shiftPressed){const o=Math.min(t,s);t=o,s=o}if(this.altPressed)this.attr("cx",this.start.x),this.attr("cy",this.start.y),this.attr("rx",t),this.attr("ry",s);else{const[o,i]=[this.start.x,this.start.x+t*n].sort(Nt),[a,c]=[this.start.y,this.start.y+s*r].sort(Nt);this.attr("cx",(o+i)/2),this.attr("cy",(a+c)/2),this.attr("rx",(i-o)/2),this.attr("ry",(c-a)/2)}return!0}onEnd(){const e=this.el;if(this.el=null,!e)return!1;try{if(!e.getTotalLength())return!1}catch{return!1}return!0}},_r=class extends tt{constructor(){super(...arguments),this.pathSubFactor=20,this.pathFragments=[],this._erased=[]}onSelected(e){const t=(n,s)=>{if(n&&n.length)for(let r=0;r<n.length;r++){const o=n[r];if(o.getTotalLength){const i=o.getTotalLength();for(let a=0;a<this.pathSubFactor;a++){const c=o.getPointAtLength(i*a/this.pathSubFactor),d=o.getPointAtLength(i*(a+1)/this.pathSubFactor);this.pathFragments.push({x1:c.x,x2:d.x,y1:c.y,y2:d.y,segment:a,element:s||o})}}else o.children&&t(o.children,o)}};e&&t(e.children)}onUnselected(){this.pathFragments=[]}onStart(e){this.svgPointPrevious=this.svgElement.createSVGPoint(),this.svgPointPrevious.x=e.x,this.svgPointPrevious.y=e.y}onMove(e){this.svgPointCurrent=this.svgElement.createSVGPoint(),this.svgPointCurrent.x=e.x,this.svgPointCurrent.y=e.y;const t=this.checkAndEraseElement();return this.svgPointPrevious=this.svgPointCurrent,t}onEnd(){this.svgPointPrevious=void 0,this.svgPointCurrent=void 0;const e=this._erased;return this._erased=[],{undo:()=>e.forEach(t=>this.drauu._restoreNode(t)),redo:()=>e.forEach(t=>this.drauu._removeNode(t))}}checkAndEraseElement(){if(this.pathFragments.length)for(let e=0;e<this.pathFragments.length;e++){const t=this.pathFragments[e];if(this.svgPointPrevious&&this.svgPointCurrent){const n={x1:this.svgPointPrevious.x,x2:this.svgPointCurrent.x,y1:this.svgPointPrevious.y,y2:this.svgPointCurrent.y};this.lineLineIntersect(t,n)&&(this.drauu._removeNode(t.element),this._erased.push(t.element))}}return this._erased.length&&(this.pathFragments=this.pathFragments.filter(e=>!this._erased.includes(e.element))),this._erased.length>0}lineLineIntersect(e,t){const n=e.x1,s=e.x2,r=t.x1,o=t.x2,i=e.y1,a=e.y2,c=t.y1,d=t.y2,h=(n-s)*(c-d)-(i-a)*(r-o),v=(n*a-i*s)*(r-o)-(n-s)*(r*d-c*o),p=(n*a-i*s)*(c-d)-(i-a)*(r*d-c*o),y=(x,m,g)=>x>=m&&x<=g?!0:x>=g&&x<=m;if(h===0)return!1;{const x={x:v/h,y:p/h};return y(x.x,n,s)&&y(x.y,i,a)&&y(x.x,r,o)&&y(x.y,c,d)}}},xr=class extends tt{onStart(e){if(this.el=this.createElement("line",{fill:"transparent"}),this.attr("x1",e.x),this.attr("y1",e.y),this.attr("x2",e.x),this.attr("y2",e.y),this.brush.arrowEnd){const t=Qs(),n=document.createElementNS("http://www.w3.org/2000/svg","g");return n.append(Zs(t,this.brush.color)),n.append(this.el),this.attr("marker-end",`url(#${t})`),n}return this.el}onMove(e){if(!this.el)return!1;let{x:t,y:n}=e;if(this.shiftPressed){const s=e.x-this.start.x,r=e.y-this.start.y;if(r!==0){let o=s/r;o=Math.round(o),Math.abs(o)<=1?(t=this.start.x+r*o,n=this.start.y+r):(t=this.start.x+s,n=this.start.y)}}return this.altPressed?(this.attr("x1",this.start.x*2-t),this.attr("y1",this.start.y*2-n),this.attr("x2",t),this.attr("y2",n)):(this.attr("x1",this.start.x),this.attr("y1",this.start.y),this.attr("x2",t),this.attr("y2",n)),!0}onEnd(){const e=this.el;if(this.el=null,!e)return!1;try{if(e.getTotalLength()<5)return!1}catch{return!1}return!0}},br=class extends tt{onStart(e){return this.el=this.createElement("rect"),this.brush.cornerRadius&&(this.attr("rx",this.brush.cornerRadius),this.attr("ry",this.brush.cornerRadius)),this.attr("x",e.x),this.attr("y",e.y),this.el}onMove(e){if(!this.el||!this.start)return!1;let[t,n]=At(e.x-this.start.x),[s,r]=At(e.y-this.start.y);if(this.shiftPressed){const o=Math.min(t,s);t=o,s=o}if(this.altPressed)this.attr("x",this.start.x-t),this.attr("y",this.start.y-s),this.attr("width",t*2),this.attr("height",s*2);else{const[o,i]=[this.start.x,this.start.x+t*n].sort(Nt),[a,c]=[this.start.y,this.start.y+s*r].sort(Nt);this.attr("x",o),this.attr("y",a),this.attr("width",i-o),this.attr("height",c-a)}return!0}onEnd(){const e=this.el;if(this.el=null,!e)return!1;try{if(!e.getTotalLength())return!1}catch{return!1}return!0}};function bs(e,t,n,s=r=>r){return e*s(.5-t*(.5-n))}function wr(e){return[-e[0],-e[1]]}function $e(e,t){return[e[0]+t[0],e[1]+t[1]]}function ke(e,t){return[e[0]-t[0],e[1]-t[1]]}function Me(e,t){return[e[0]*t,e[1]*t]}function kr(e,t){return[e[0]/t,e[1]/t]}function ot(e){return[e[1],-e[0]]}function ws(e,t){return e[0]*t[0]+e[1]*t[1]}function Sr(e,t){return e[0]===t[0]&&e[1]===t[1]}function Mr(e){return Math.hypot(e[0],e[1])}function $r(e){return e[0]*e[0]+e[1]*e[1]}function ks(e,t){return $r(ke(e,t))}function Js(e){return kr(e,Mr(e))}function Pr(e,t){return Math.hypot(e[1]-t[1],e[0]-t[0])}function it(e,t,n){let s=Math.sin(n),r=Math.cos(n),o=e[0]-t[0],i=e[1]-t[1],a=o*r-i*s,c=o*s+i*r;return[a+t[0],c+t[1]]}function es(e,t,n){return $e(e,Me(ke(t,e),n))}function Ss(e,t,n){return $e(e,Me(t,n))}var{min:Qe,PI:Cr}=Math,Ms=.275,at=Cr+1e-4;function Er(e,t={}){let{size:n=16,smoothing:s=.5,thinning:r=.5,simulatePressure:o=!0,easing:i=I=>I,start:a={},end:c={},last:d=!1}=t,{cap:h=!0,easing:v=I=>I*(2-I)}=a,{cap:p=!0,easing:y=I=>--I*I*I+1}=c;if(e.length===0||n<=0)return[];let x=e[e.length-1].runningLength,m=a.taper===!1?0:a.taper===!0?Math.max(n,x):a.taper,g=c.taper===!1?0:c.taper===!0?Math.max(n,x):c.taper,b=Math.pow(n*s,2),V=[],k=[],D=e.slice(0,10).reduce((I,q)=>{let B=q.pressure;if(o){let W=Qe(1,q.distance/n),rt=Qe(1,1-W);B=Qe(1,I+(rt-I)*(W*Ms))}return(I+B)/2},e[0].pressure),_=bs(n,r,e[e.length-1].pressure,i),z,T=e[0].vector,G=e[0].point,O=G,F=G,ne=O,_e=!1;for(let I=0;I<e.length;I++){let{pressure:q}=e[I],{point:B,vector:W,distance:rt,runningLength:M}=e[I];if(I<e.length-1&&x-M<3)continue;if(r){if(o){let ee=Qe(1,rt/n),he=Qe(1,1-ee);q=Qe(1,D+(he-D)*(ee*Ms))}_=bs(n,r,q,i)}else _=n/2;z===void 0&&(z=_);let Y=M<m?v(M/m):1,H=x-M<g?y((x-M)/g):1;_=Math.max(.01,_*Math.min(Y,H));let E=(I<e.length-1?e[I+1]:e[I]).vector,L=I<e.length-1?ws(W,E):1,se=ws(W,T)<0&&!_e,oe=L!==null&&L<0;if(se||oe){let ee=Me(ot(T),_);for(let he=1/13,le=0;le<=1;le+=he)F=it(ke(B,ee),B,at*le),V.push(F),ne=it($e(B,ee),B,at*-le),k.push(ne);G=F,O=ne,oe&&(_e=!0);continue}if(_e=!1,I===e.length-1){let ee=Me(ot(W),_);V.push(ke(B,ee)),k.push($e(B,ee));continue}let xe=Me(ot(es(E,W,L)),_);F=ke(B,xe),(I<=1||ks(G,F)>b)&&(V.push(F),G=F),ne=$e(B,xe),(I<=1||ks(O,ne)>b)&&(k.push(ne),O=ne),D=q,T=W}let ae=e[0].point.slice(0,2),K=e.length>1?e[e.length-1].point.slice(0,2):$e(e[0].point,[1,1]),de=[],Ie=[];if(e.length===1){if(!(m||g)||d){let I=Ss(ae,Js(ot(ke(ae,K))),-(z||_)),q=[];for(let B=1/13,W=B;W<=1;W+=B)q.push(it(I,ae,at*2*W));return q}}else{if(!(m||g&&e.length===1))if(h)for(let q=1/13,B=q;B<=1;B+=q){let W=it(k[0],ae,at*B);de.push(W)}else{let q=ke(V[0],k[0]),B=Me(q,.5),W=Me(q,.51);de.push(ke(ae,B),ke(ae,W),$e(ae,W),$e(ae,B))}let I=ot(wr(e[e.length-1].vector));if(g||m&&e.length===1)Ie.push(K);else if(p){let q=Ss(K,I,_);for(let B=1/29,W=B;W<1;W+=B)Ie.push(it(q,K,at*3*W))}else Ie.push($e(K,Me(I,_)),$e(K,Me(I,_*.99)),ke(K,Me(I,_*.99)),ke(K,Me(I,_)))}return V.concat(Ie,k.reverse(),de)}function Ir(e,t={}){var n;let{streamline:s=.5,size:r=16,last:o=!1}=t;if(e.length===0)return[];let i=.15+(1-s)*.85,a=Array.isArray(e[0])?e:e.map(({x:y,y:x,pressure:m=.5})=>[y,x,m]);if(a.length===2){let y=a[1];a=a.slice(0,-1);for(let x=1;x<5;x++)a.push(es(a[0],y,x/4))}a.length===1&&(a=[...a,[...$e(a[0],[1,1]),...a[0].slice(2)]]);let c=[{point:[a[0][0],a[0][1]],pressure:a[0][2]>=0?a[0][2]:.25,vector:[1,1],distance:0,runningLength:0}],d=!1,h=0,v=c[0],p=a.length-1;for(let y=1;y<a.length;y++){let x=o&&y===p?a[y].slice(0,2):es(v.point,a[y],i);if(Sr(v.point,x))continue;let m=Pr(x,v.point);if(h+=m,y<p&&!d){if(h<r)continue;d=!0}v={point:x,pressure:a[y][2]>=0?a[y][2]:.5,vector:Js(ke(v.point,x)),distance:m,runningLength:h},c.push(v)}return c[0].vector=((n=c[1])==null?void 0:n.vector)||[0,0],c}function Rr(e,t={}){return Er(Ir(e,t),t)}var Lr=class qs extends tt{constructor(){super(...arguments),this.points=[]}onStart(t){return this.el=document.createElementNS("http://www.w3.org/2000/svg","path"),this.points=[t],this.attr("fill",this.brush.color),this.attr("d",this.getSvgData(this.points)),this.el}onMove(t){return this.el||this.onStart(t),this.points[this.points.length-1]!==t&&this.points.push(t),this.attr("d",this.getSvgData(this.points)),!0}onEnd(){const t=this.el;return this.el=null,!!t}getSvgData(t){return qs.getSvgData(t,this.brush)}static getSvgData(t,n){const s=Rr(t,Jt({size:n.size,thinning:.9,simulatePressure:!1,start:{taper:5},end:{taper:5}},n.stylusOptions));if(!s.length)return"";const r=s.reduce((o,[i,a],c,d)=>{const[h,v]=d[(c+1)%d.length];return o.push(i,a,(i+h)/2,(a+v)/2),o},["M",...s[0],"Q"]);return r.push("Z"),r.map(o=>typeof o=="number"?o.toFixed(2):o).join(" ")}};function Nr(e){return{draw:new gr(e),stylus:new Lr(e),line:new xr(e),rectangle:new br(e),ellipse:new yr(e),eraseLine:new _r(e)}}var Ar=class{constructor(e={}){this.options=e,this.el=null,this.svgPoint=null,this.eventEl=null,this.shiftPressed=!1,this.altPressed=!1,this.drawing=!1,this._emitter=cr(),this._originalPointerId=null,this._models=Nr(this),this._opStack=[],this._opIndex=0,this._disposables=[],this._elements=[],this.options.brush||(this.options.brush={color:"black",size:3,mode:"stylus"}),e.el&&this.mount(e.el,e.eventTarget,e.window)}get model(){return this._models[this.mode]}get mounted(){return!!this.el}get mode(){return this.options.brush.mode||"stylus"}set mode(e){this._models[this.mode].onUnselected(),this.options.brush.mode=e,this.model.onSelected(this.el)}get brush(){return this.options.brush}set brush(e){this.options.brush=e}resolveSelector(e){return typeof e=="string"?document.querySelector(e):e||null}mount(e,t,n=window){if(this.el)throw new Error("[drauu] already mounted, unmount previous target first");if(this.el=this.resolveSelector(e),!this.el)throw new Error("[drauu] target element not found");if(this.el.tagName.toLocaleLowerCase()!=="svg")throw new Error("[drauu] can only mount to a SVG element");if(!this.el.createSVGPoint)throw new Error("[drauu] SVG element must be create by document.createElementNS('http://www.w3.org/2000/svg', 'svg')");this.svgPoint=this.el.createSVGPoint();const s=this.resolveSelector(t)||this.el,r=this.eventStart.bind(this),o=this.eventMove.bind(this),i=this.eventEnd.bind(this),a=this.eventKeyboard.bind(this);s.addEventListener("pointerdown",r,{passive:!1}),n.addEventListener("pointermove",o,{passive:!1}),n.addEventListener("pointerup",i,{passive:!1}),n.addEventListener("pointercancel",i,{passive:!1}),n.addEventListener("keydown",a,!1),n.addEventListener("keyup",a,!1),this._disposables.push(()=>{s.removeEventListener("pointerdown",r),n.removeEventListener("pointermove",o),n.removeEventListener("pointerup",i),n.removeEventListener("pointercancel",i),n.removeEventListener("keydown",a,!1),n.removeEventListener("keyup",a,!1)}),this._emitter.emit("mounted")}unmount(){this._disposables.forEach(e=>e()),this._disposables.length=0,this._elements.length=0,this.el=null,this._emitter.emit("unmounted")}on(e,t){return this._emitter.on(e,t)}undo(){return!this.canUndo()||this.drawing?!1:(this._opStack[--this._opIndex].undo(),this._emitter.emit("changed"),!0)}redo(){return!this.canRedo()||this.drawing?!1:(this._opStack[this._opIndex++].redo(),this._emitter.emit("changed"),!0)}canRedo(){return this._opIndex<this._opStack.length}canUndo(){return this._opIndex>0}eventMove(e){!this.acceptsInput(e)||!this.drawing||this.model._eventMove(e)&&(e.stopPropagation(),e.preventDefault(),this._emitter.emit("changed"))}eventStart(e){this.acceptsInput(e)&&(e.stopPropagation(),e.preventDefault(),this._currentNode&&this.cancel(),this.drawing=!0,this._originalPointerId=e.pointerId,this._emitter.emit("start"),this._currentNode=this.model._eventDown(e),this._currentNode&&this.mode!=="eraseLine"&&this.el.appendChild(this._currentNode),this._emitter.emit("changed"))}eventEnd(e){if(!this.acceptsInput(e)||!this.drawing)return;const t=this.model._eventUp(e);if(!t)this.cancel();else if(t===!0){const n=this._currentNode;n&&(this._appendNode(n),this.commit({undo:()=>this._removeNode(n),redo:()=>this._restoreNode(n)}))}else this.commit(t);this.drawing=!1,this._emitter.emit("end"),this._emitter.emit("changed"),this._originalPointerId=null}acceptsInput(e){return(!this.options.acceptsInputTypes||this.options.acceptsInputTypes.includes(e.pointerType))&&!(this._originalPointerId&&this._originalPointerId!==e.pointerId)}eventKeyboard(e){this.shiftPressed===e.shiftKey&&this.altPressed===e.altKey||(this.shiftPressed=e.shiftKey,this.altPressed=e.altKey,this.model.point&&this.model.onMove(this.model.point)&&this._emitter.emit("changed"))}commit(e){this._opStack.length=this._opIndex,this._opStack.push(e),this._opIndex++;const t=this._currentNode;this._currentNode=void 0,this._emitter.emit("committed",t)}clear(){this._opStack.length=0,this._opIndex=0,this._elements=[],this.cancel(),this.el.innerHTML="",this._emitter.emit("changed")}cancel(){this._currentNode&&(this.el.removeChild(this._currentNode),this._currentNode=void 0,this._emitter.emit("canceled"))}dump(){return this.el.innerHTML}load(e){this.clear(),this.el.innerHTML=e}_appendNode(e){const t=this._elements.at(-1);t?t.after(e):this.el.append(e);const n=this._elements.push(e)-1;e.dataset.drauu_index=n.toString()}_removeNode(e){e.remove(),this._elements[+e.dataset.drauu_index]=null}_restoreNode(e){const t=+e.dataset.drauu_index;this._elements[t]=e;for(let n=t-1;n>=0;n--){const s=this._elements[n];if(s){s.after(e);return}}this.el.prepend(e)}};function Dr(e){return new Ar(e)}const st=fn(()=>{const{currentSlideNo:e,isPresenter:t}=ce(),n=["#ff595e","#ffca3a","#8ac926","#1982c4","#6a4c93","#ffffff","#000000"],s=Tt("slidev-drawing-enabled",!1),r=Tt("slidev-drawing-pinned",!1),o=vn(Tt("slidev-drawing-brush",{color:n[0],size:4,mode:"stylus"})),i=j(!1),a=j(!1),c=j(!1),d=j(!1),h=j("stylus"),v=$(()=>ye.drawings.syncAll||t.value);let p=!1;const y=$({get(){return h.value},set(k){h.value=k,k==="arrow"?(m.mode="line",o.arrowEnd=!0):(m.mode=k,o.arrowEnd=!1)}}),x=Vs({brush:o,acceptsInputTypes:$(()=>s.value&&(!ye.drawings.presenterOnly||t.value)?void 0:["pen"]),coordinateTransform:!1}),m=pn(Dr(x));function g(){m.clear(),v.value&&vs(e.value,"")}function b(){var k;c.value=m.canRedo(),a.value=m.canUndo(),d.value=!!((k=m.el)!=null&&k.children.length)}function V(k){p=!0;const D=Ft[k||e.value];D!=null?m.load(D):m.clear(),b(),p=!1}return m.on("changed",()=>{if(b(),!p){const k=m.dump(),D=e.value;(Ft[D]||"")!==k&&v.value&&vs(D,m.dump())}}),Rn(k=>{p=!0,k[e.value]!=null&&m.load(k[e.value]||""),p=!1,b()}),mn(()=>{Ye(e,()=>{m.mounted&&V()},{immediate:!0})}),m.on("start",()=>i.value=!0),m.on("end",()=>i.value=!1),window.addEventListener("keydown",k=>{if(!s.value||Hs.value)return;const D=!k.ctrlKey&&!k.altKey&&!k.shiftKey&&!k.metaKey;let _=!0;k.code==="KeyZ"&&(k.ctrlKey||k.metaKey)?k.shiftKey?m.redo():m.undo():k.code==="Escape"?s.value=!1:k.code==="KeyL"&&D?y.value="line":k.code==="KeyA"&&D?y.value="arrow":k.code==="KeyS"&&D?y.value="stylus":k.code==="KeyR"&&D?y.value="rectangle":k.code==="KeyE"&&D?y.value="ellipse":k.code==="KeyC"&&D?g():k.code.startsWith("Digit")&&D&&+k.code[5]<=n.length?o.color=n[+k.code[5]-1]:_=!1,_&&(k.preventDefault(),k.stopPropagation())},!1),{brush:o,brushColors:n,canClear:d,canRedo:c,canUndo:a,clear:g,drauu:m,drauuOptions:x,drawingEnabled:s,drawingMode:y,drawingPinned:r,drawingState:Ft,isDrawing:i,loadCanvas:V}}),Vr=2e3;function Tr(e){const t=$(()=>e.value&&St.value);function n(){document.body.style.cursor="none"}function s(){document.body.style.cursor=""}let r=null;Ye(t,o=>{o||s()}),as(document.body,["pointermove","pointerdown"],()=>{s(),r&&clearTimeout(r),t.value&&(r=setTimeout(n,Vr))},{passive:!0})}function Fr(e){const{next:t,nextSlide:n,prev:s,prevSlide:r}=ce(),{isDrawing:o}=st(),i=j(0),{direction:a,distanceX:c,distanceY:d}=gn(e,{pointerTypes:["touch"],onSwipeStart(){o.value||(i.value=yn())},onSwipeEnd(){if(!i.value||o.value)return;const h=Math.abs(c.value),v=Math.abs(d.value);h/window.innerWidth>.3||h>75?a.value==="left"?t():s():(v/window.innerHeight>.4||v>200)&&(a.value==="down"?r():n())}})}function Or(){const{request:e,release:t}=Ts();Ye(Mt,n=>{n?e("screen"):t()},{immediate:!0})}const zr=[];let Kt;const jr=()=>{if(Kt)return Kt;const{next:e,nextSlide:t,prev:n,prevSlide:s,hasNext:r,hasPrev:o,currentPage:i,total:a,isPresenter:c,enterPresenter:d,exitPresenter:h,isEmbedded:v,isPresenterAvailable:p}=ce(),{drawingEnabled:y}=st(),{isFullscreen:x,toggle:m}=us;return Kt=zr.reduce((g,b)=>b(g),$(()=>[{small:!0,icon:"i-carbon:arrow-left",label:"Previous Click",action:n,disabled:!o.value},{small:!0,icon:"i-carbon:arrow-right",label:"Next Click",action:e,disabled:!r.value},{small:!0,icon:"i-carbon:arrow-up",label:"Previous Slide",action:s,disabled:i.value<=1},{small:!0,icon:"i-carbon:arrow-down",label:"Next Slide",action:t,disabled:i.value>=a.value},"separator",{icon:"i-carbon:text-annotation-toggle",label:qe.value?"Hide editor":"Show editor",action:()=>qe.value=!qe.value},{icon:"i-carbon:pen",label:y.value?"Hide drawing toolbar":"Show drawing toolbar",action:()=>y.value=!y.value},{icon:"i-carbon:apps",label:"Show slide overview",action:It},c.value&&{icon:"i-carbon:presentation-file",label:"Exit Presenter Mode",action:h},!1,!v.value&&{icon:x.value?"i-carbon:minimize":"i-carbon:maximize",label:x.value?"Close fullscreen":"Enter fullscreen",action:m}].filter(Boolean)))},Ze=We(null);function Br(e,t){Ze.value={x:e,y:t,items:jr()}}function lt(){Ze.value=null}function Kr(e){if(ye.contextMenu!==!0&&ye.contextMenu!=null&&ye.contextMenu!==Ln||e.shiftKey||e.defaultPrevented)return;const{isEmbedded:t}=ce();t.value||(Br(e.pageX,e.pageY),e.preventDefault(),e.stopPropagation())}const Hr=["title","onClick"],Ur=["onClick"],Gr={class:"mx-auto flex"},Wr={key:0},Yr={class:"w-full text-xs p2"},Xr={class:"text-main text-opacity-50!"},Qr=X({__name:"ContextMenu",setup(e){const t=j();Fs(t,lt),as(document,"mousedown",c=>{c.buttons&2&&lt()},{passive:!0,capture:!0});const n=$(()=>ye.contextMenu!=null),s=_n();Ye(s,c=>{c||lt()}),ir(1);const{width:r,height:o}=xn(t),i=$(()=>{var d;const c=(d=Ze.value)==null?void 0:d.x;return c?c+r.value>Ge.width.value?Ge.width.value-r.value:c:0}),a=$(()=>{var d;const c=(d=Ze.value)==null?void 0:d.y;return c?c+o.value>Ge.height.value?Ge.height.value-o.value:c:0});return(c,d)=>l(Ze)?(u(),f("div",{key:0,ref_key:"container",ref:t,style:ge(`left:${i.value}px;top:${a.value}px`),class:"slidev-glass-effect fixed z-context-menu w-60 flex flex-wrap justify-items-start p-1 animate-fade-in animate-duration-100 rounded-md shadow overflow-hidden select-none",onContextmenu:d[1]||(d[1]=Os(()=>{},["prevent"])),onClick:d[2]||(d[2]=(...h)=>l(lt)&&l(lt)(...h))},[(u(!0),f(U,null,pt(l(Ze).items.value,(h,v)=>(u(),f(U,{key:v},[h==="separator"?(u(),f("div",{key:v,class:"w-full my1 border-t border-main"})):h.small?(u(),f("div",{key:1,class:Q(["p-2 w-[40px] h-[40px] inline-block text-center cursor-pointer rounded flex",h.disabled?"op40":"hover:bg-active"]),title:h.label,onClick:h.action},[typeof h.icon=="string"?(u(),f("div",{key:0,class:Q([h.icon,"text-1.2em ma"])},null,2)):(u(),R(ze(h.icon),{key:1}))],10,Hr)):(u(),f("div",{key:2,class:Q(["w-full grid grid-cols-[35px_1fr] p-2 pl-0 cursor-pointer rounded",h.disabled?"op40":"hover:bg-active"]),onClick:h.action},[w("div",Gr,[typeof h.icon=="string"?(u(),f("div",{key:0,class:Q([h.icon,"text-1.2em ma"])},null,2)):(u(),R(ze(h.icon),{key:1}))]),typeof h.label=="string"?(u(),f("div",Wr,me(h.label),1)):(u(),R(ze(h.label),{key:1}))],10,Ur))],64))),128)),n.value?S("v-if",!0):(u(),f(U,{key:0},[d[6]||(d[6]=w("div",{class:"w-full my1 border-t border-main"},null,-1)),w("div",Yr,[w("div",Xr,[d[3]||(d[3]=Xe(" Hold ")),d[4]||(d[4]=w("kbd",{class:"border px1 py0.5 border-main rounded text-primary"},"Shift",-1)),d[5]||(d[5]=Xe(" and right click to open the native context menu ")),S("v-if",!0)])])],64))],36)):S("v-if",!0)}}),Zr={key:0},Jr={key:1},qr={key:2},eo={key:3},to={key:4},so={key:5},no={key:6},ro={key:7},oo={key:8},io={key:9},ao={key:10},lo={key:11},uo={key:12},co={key:13},ho={key:14},fo={key:15},vo={key:16},po={key:17},mo={key:18},go={key:19},yo={key:20},_o={key:21},xo={key:22},bo={key:23},wo={key:24},ko={key:25},So={key:26},Mo={key:27},$o={key:28},Po={key:29},Co={key:30},Eo={key:31},Io={key:32},Ro={key:33},Lo={key:34},No={key:35},Ao={key:36},Do={key:37},Vo={key:38},To={key:39},Fo={key:40},Oo={key:41},zo={key:42},jo={key:43},Bo={key:44},Ko={key:45},Ho={key:46},Uo={key:47},Go={key:48},Wo={key:50},Yo={key:51},Xo={key:52},Qo={key:53},Zo={key:54},Jo={key:55},qo={key:56},ei={key:57},ti={key:58},si={key:59},ni={key:60},ri={key:61},oi=X({__name:"title-renderer",props:{no:{}},setup(e){const t=e,{$page:n}=qn(),s=$(()=>+(t.no??n.value));return(r,o)=>(u(),f("div",null,[s.value===1?(u(),f("p",Zr,"undefined")):s.value===2?(u(),f("p",Jr,"沈希辰")):s.value===3?(u(),f("p",qr,"课程简介")):s.value===4?(u(),f("p",eo,"内容大纲")):s.value===5?(u(),f("p",to,"课程评分")):s.value===6?(u(),f("p",so,"对本课程还有什么疑问？")):s.value===7?(u(),f("p",no,"游戏音频设计概述")):s.value===8?(u(),f("p",ro,"undefined")):s.value===9?(u(),f("p",oo,o[0]||(o[0]=[w("span",{class:"text-red-500"},"游戏",-1)]))):s.value===10?(u(),f("p",io,o[1]||(o[1]=[w("span",{class:"text-green-500"},"音频",-1)]))):s.value===11?(u(),f("p",ao,o[2]||(o[2]=[w("span",{class:"text-blue-500"},"设计",-1)]))):s.value===12?(u(),f("p",lo,"听声辨位")):s.value===13?(u(),f("p",uo,"开发流程")):s.value===14?(u(),f("p",co,"开发阶段 Dev Stage")):s.value===15?(u(),f("p",ho,"开发团队 Dev Team")):s.value===16?(u(),f("p",fo,"音频团队 Audio Team")):s.value===17?(u(),f("p",vo,"音频数据 Audio Data")):s.value===18?(u(),f("p",po,"设计流程 Design Workflow")):s.value===19?(u(),f("p",mo,"游戏开发是系统工程，游戏音频设计也应如此。")):s.value===20?(u(),f("p",go,"开发工具")):s.value===21?(u(),f("p",yo,"Core Tool")):s.value===22?(u(),f("p",_o,"Other Tool")):s.value===23?(u(),f("p",xo,"得体地使用优雅的工具。")):s.value===24?(u(),f("p",bo,"如何听声音")):s.value===25?(u(),f("p",wo,"数字音频制品 --> 最终听感效果")):s.value===26?(u(),f("p",ko,"数字音频信号的响度与动态范围")):s.value===27?(u(),f("p",So,"数字音频信号测量")):s.value===28?(u(),f("p",Mo,"常见媒介的响度规范")):s.value===29?(u(),f("p",$o,"校准日常的听声环境，养成良好的听声习惯。")):s.value===30?(u(),f("p",Po,"篝火的声音")):s.value===31?(u(),f("p",Co,"如何拆解篝火的声音")):s.value===32?(u(),f("p",Eo,"声音资源的规格")):s.value===33?(u(),f("p",Io,"音频空间化")):s.value===34?(u(),f("p",Ro,"还原真实世界中的声音传播效果")):s.value===35?(u(),f("p",Lo,"声像定位 Sound Positioning")):s.value===36?(u(),f("p",No,"空间划分 Space Partition")):s.value===37?(u(),f("p",Ao,"反射与混响 Reflect & Reverb")):s.value===38?(u(),f("p",Do,"衍射与透射 Diffraction & Transmission")):s.value===39?(u(),f("p",Vo,"声音衰减 Sound Attenuation")):s.value===40?(u(),f("p",To,"音频空间化")):s.value===41?(u(),f("p",Fo,"现成的解决方案")):s.value===42?(u(),f("p",Oo,"Wwise Spatial Audio Demo")):s.value===43?(u(),f("p",zo,"。")):s.value===44?(u(),f("p",jo,"环境声设计")):s.value===45?(u(),f("p",Bo,"如何设计这个场景的环境声")):s.value===46?(u(),f("p",Ko,"这个场景包含了哪些声音元素")):s.value===47?(u(),f("p",Ho,"命名规范")):s.value===48?(u(),f("p",Uo,"理想情况是什么样的")):s.value===49?(u(),f("p",Go,"实际情况是什么样的")):s.value===50?(u(),f(U,{key:49},[],64)):s.value===51?(u(),f("p",Wo,"角色拟音设计")):s.value===52?(u(),f("p",Yo,"枪械声音设计")):s.value===53?(u(),f("p",Xo,"undefined")):s.value===54?(u(),f("p",Qo,"载具声音设计")):s.value===55?(u(),f("p",Zo,"影视化内容的声音设计")):s.value===56?(u(),f("p",Jo,"游戏中有哪些影视化的内容")):s.value===57?(u(),f("p",qo,"音乐设计")):s.value===58?(u(),f("p",ei,"语音设计")):s.value===59?(u(),f("p",ti,"Pipeline")):s.value===60?(u(),f("p",si,"游戏音频混音")):s.value===61?(u(),f("p",ni,"完结")):s.value===62?(u(),f("p",ri,"游戏音频设计")):S("v-if",!0)]))}});function Ve(e){return Array.isArray?Array.isArray(e):sn(e)==="[object Array]"}function ii(e){if(typeof e=="string")return e;let t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function ai(e){return e==null?"":ii(e)}function Ee(e){return typeof e=="string"}function en(e){return typeof e=="number"}function li(e){return e===!0||e===!1||ui(e)&&sn(e)=="[object Boolean]"}function tn(e){return typeof e=="object"}function ui(e){return tn(e)&&e!==null}function pe(e){return e!=null}function Ht(e){return!e.trim().length}function sn(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const ci="Incorrect 'index' type",di=e=>`Invalid value for key ${e}`,hi=e=>`Pattern length exceeds max of ${e}.`,fi=e=>`Missing ${e} property in key`,vi=e=>`Property 'weight' in key '${e}' must be a positive integer`,$s=Object.prototype.hasOwnProperty;class pi{constructor(t){this._keys=[],this._keyMap={};let n=0;t.forEach(s=>{let r=nn(s);this._keys.push(r),this._keyMap[r.id]=r,n+=r.weight}),this._keys.forEach(s=>{s.weight/=n})}get(t){return this._keyMap[t]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function nn(e){let t=null,n=null,s=null,r=1,o=null;if(Ee(e)||Ve(e))s=e,t=Ps(e),n=ts(e);else{if(!$s.call(e,"name"))throw new Error(fi("name"));const i=e.name;if(s=i,$s.call(e,"weight")&&(r=e.weight,r<=0))throw new Error(vi(i));t=Ps(i),n=ts(i),o=e.getFn}return{path:t,id:n,weight:r,src:s,getFn:o}}function Ps(e){return Ve(e)?e:e.split(".")}function ts(e){return Ve(e)?e.join("."):e}function mi(e,t){let n=[],s=!1;const r=(o,i,a)=>{if(pe(o))if(!i[a])n.push(o);else{let c=i[a];const d=o[c];if(!pe(d))return;if(a===i.length-1&&(Ee(d)||en(d)||li(d)))n.push(ai(d));else if(Ve(d)){s=!0;for(let h=0,v=d.length;h<v;h+=1)r(d[h],i,a+1)}else i.length&&r(d,i,a+1)}};return r(e,Ee(t)?t.split("."):t,0),s?n:n[0]}const gi={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},yi={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(e,t)=>e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1},_i={location:0,threshold:.6,distance:100},xi={useExtendedSearch:!1,getFn:mi,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var P={...yi,...gi,..._i,...xi};const bi=/[^ ]+/g;function wi(e=1,t=3){const n=new Map,s=Math.pow(10,t);return{get(r){const o=r.match(bi).length;if(n.has(o))return n.get(o);const i=1/Math.pow(o,.5*e),a=parseFloat(Math.round(i*s)/s);return n.set(o,a),a},clear(){n.clear()}}}class ds{constructor({getFn:t=P.getFn,fieldNormWeight:n=P.fieldNormWeight}={}){this.norm=wi(n,3),this.getFn=t,this.isCreated=!1,this.setIndexRecords()}setSources(t=[]){this.docs=t}setIndexRecords(t=[]){this.records=t}setKeys(t=[]){this.keys=t,this._keysMap={},t.forEach((n,s)=>{this._keysMap[n.id]=s})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,Ee(this.docs[0])?this.docs.forEach((t,n)=>{this._addString(t,n)}):this.docs.forEach((t,n)=>{this._addObject(t,n)}),this.norm.clear())}add(t){const n=this.size();Ee(t)?this._addString(t,n):this._addObject(t,n)}removeAt(t){this.records.splice(t,1);for(let n=t,s=this.size();n<s;n+=1)this.records[n].i-=1}getValueForItemAtKeyId(t,n){return t[this._keysMap[n]]}size(){return this.records.length}_addString(t,n){if(!pe(t)||Ht(t))return;let s={v:t,i:n,n:this.norm.get(t)};this.records.push(s)}_addObject(t,n){let s={i:n,$:{}};this.keys.forEach((r,o)=>{let i=r.getFn?r.getFn(t):this.getFn(t,r.path);if(pe(i)){if(Ve(i)){let a=[];const c=[{nestedArrIndex:-1,value:i}];for(;c.length;){const{nestedArrIndex:d,value:h}=c.pop();if(pe(h))if(Ee(h)&&!Ht(h)){let v={v:h,i:d,n:this.norm.get(h)};a.push(v)}else Ve(h)&&h.forEach((v,p)=>{c.push({nestedArrIndex:p,value:v})})}s.$[o]=a}else if(Ee(i)&&!Ht(i)){let a={v:i,n:this.norm.get(i)};s.$[o]=a}}}),this.records.push(s)}toJSON(){return{keys:this.keys,records:this.records}}}function rn(e,t,{getFn:n=P.getFn,fieldNormWeight:s=P.fieldNormWeight}={}){const r=new ds({getFn:n,fieldNormWeight:s});return r.setKeys(e.map(nn)),r.setSources(t),r.create(),r}function ki(e,{getFn:t=P.getFn,fieldNormWeight:n=P.fieldNormWeight}={}){const{keys:s,records:r}=e,o=new ds({getFn:t,fieldNormWeight:n});return o.setKeys(s),o.setIndexRecords(r),o}function bt(e,{errors:t=0,currentLocation:n=0,expectedLocation:s=0,distance:r=P.distance,ignoreLocation:o=P.ignoreLocation}={}){const i=t/e.length;if(o)return i;const a=Math.abs(s-n);return r?i+a/r:a?1:i}function Si(e=[],t=P.minMatchCharLength){let n=[],s=-1,r=-1,o=0;for(let i=e.length;o<i;o+=1){let a=e[o];a&&s===-1?s=o:!a&&s!==-1&&(r=o-1,r-s+1>=t&&n.push([s,r]),s=-1)}return e[o-1]&&o-s>=t&&n.push([s,o-1]),n}const Ue=32;function Mi(e,t,n,{location:s=P.location,distance:r=P.distance,threshold:o=P.threshold,findAllMatches:i=P.findAllMatches,minMatchCharLength:a=P.minMatchCharLength,includeMatches:c=P.includeMatches,ignoreLocation:d=P.ignoreLocation}={}){if(t.length>Ue)throw new Error(hi(Ue));const h=t.length,v=e.length,p=Math.max(0,Math.min(s,v));let y=o,x=p;const m=a>1||c,g=m?Array(v):[];let b;for(;(b=e.indexOf(t,x))>-1;){let T=bt(t,{currentLocation:b,expectedLocation:p,distance:r,ignoreLocation:d});if(y=Math.min(T,y),x=b+h,m){let G=0;for(;G<h;)g[b+G]=1,G+=1}}x=-1;let V=[],k=1,D=h+v;const _=1<<h-1;for(let T=0;T<h;T+=1){let G=0,O=D;for(;G<O;)bt(t,{errors:T,currentLocation:p+O,expectedLocation:p,distance:r,ignoreLocation:d})<=y?G=O:D=O,O=Math.floor((D-G)/2+G);D=O;let F=Math.max(1,p-O+1),ne=i?v:Math.min(p+O,v)+h,_e=Array(ne+2);_e[ne+1]=(1<<T)-1;for(let K=ne;K>=F;K-=1){let de=K-1,Ie=n[e.charAt(de)];if(m&&(g[de]=+!!Ie),_e[K]=(_e[K+1]<<1|1)&Ie,T&&(_e[K]|=(V[K+1]|V[K])<<1|1|V[K+1]),_e[K]&_&&(k=bt(t,{errors:T,currentLocation:de,expectedLocation:p,distance:r,ignoreLocation:d}),k<=y)){if(y=k,x=de,x<=p)break;F=Math.max(1,2*p-x)}}if(bt(t,{errors:T+1,currentLocation:p,expectedLocation:p,distance:r,ignoreLocation:d})>y)break;V=_e}const z={isMatch:x>=0,score:Math.max(.001,k)};if(m){const T=Si(g,a);T.length?c&&(z.indices=T):z.isMatch=!1}return z}function $i(e){let t={};for(let n=0,s=e.length;n<s;n+=1){const r=e.charAt(n);t[r]=(t[r]||0)|1<<s-n-1}return t}class on{constructor(t,{location:n=P.location,threshold:s=P.threshold,distance:r=P.distance,includeMatches:o=P.includeMatches,findAllMatches:i=P.findAllMatches,minMatchCharLength:a=P.minMatchCharLength,isCaseSensitive:c=P.isCaseSensitive,ignoreLocation:d=P.ignoreLocation}={}){if(this.options={location:n,threshold:s,distance:r,includeMatches:o,findAllMatches:i,minMatchCharLength:a,isCaseSensitive:c,ignoreLocation:d},this.pattern=c?t:t.toLowerCase(),this.chunks=[],!this.pattern.length)return;const h=(p,y)=>{this.chunks.push({pattern:p,alphabet:$i(p),startIndex:y})},v=this.pattern.length;if(v>Ue){let p=0;const y=v%Ue,x=v-y;for(;p<x;)h(this.pattern.substr(p,Ue),p),p+=Ue;if(y){const m=v-Ue;h(this.pattern.substr(m),m)}}else h(this.pattern,0)}searchIn(t){const{isCaseSensitive:n,includeMatches:s}=this.options;if(n||(t=t.toLowerCase()),this.pattern===t){let x={isMatch:!0,score:0};return s&&(x.indices=[[0,t.length-1]]),x}const{location:r,distance:o,threshold:i,findAllMatches:a,minMatchCharLength:c,ignoreLocation:d}=this.options;let h=[],v=0,p=!1;this.chunks.forEach(({pattern:x,alphabet:m,startIndex:g})=>{const{isMatch:b,score:V,indices:k}=Mi(t,x,m,{location:r+g,distance:o,threshold:i,findAllMatches:a,minMatchCharLength:c,includeMatches:s,ignoreLocation:d});b&&(p=!0),v+=V,b&&k&&(h=[...h,...k])});let y={isMatch:p,score:p?v/this.chunks.length:1};return p&&s&&(y.indices=h),y}}class Ke{constructor(t){this.pattern=t}static isMultiMatch(t){return Cs(t,this.multiRegex)}static isSingleMatch(t){return Cs(t,this.singleRegex)}search(){}}function Cs(e,t){const n=e.match(t);return n?n[1]:null}class Pi extends Ke{constructor(t){super(t)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(t){const n=t===this.pattern;return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class Ci extends Ke{constructor(t){super(t)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(t){const s=t.indexOf(this.pattern)===-1;return{isMatch:s,score:s?0:1,indices:[0,t.length-1]}}}class Ei extends Ke{constructor(t){super(t)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(t){const n=t.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class Ii extends Ke{constructor(t){super(t)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(t){const n=!t.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,t.length-1]}}}class Ri extends Ke{constructor(t){super(t)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(t){const n=t.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[t.length-this.pattern.length,t.length-1]}}}class Li extends Ke{constructor(t){super(t)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(t){const n=!t.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,t.length-1]}}}class an extends Ke{constructor(t,{location:n=P.location,threshold:s=P.threshold,distance:r=P.distance,includeMatches:o=P.includeMatches,findAllMatches:i=P.findAllMatches,minMatchCharLength:a=P.minMatchCharLength,isCaseSensitive:c=P.isCaseSensitive,ignoreLocation:d=P.ignoreLocation}={}){super(t),this._bitapSearch=new on(t,{location:n,threshold:s,distance:r,includeMatches:o,findAllMatches:i,minMatchCharLength:a,isCaseSensitive:c,ignoreLocation:d})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(t){return this._bitapSearch.searchIn(t)}}class ln extends Ke{constructor(t){super(t)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(t){let n=0,s;const r=[],o=this.pattern.length;for(;(s=t.indexOf(this.pattern,n))>-1;)n=s+o,r.push([s,n-1]);const i=!!r.length;return{isMatch:i,score:i?0:1,indices:r}}}const ss=[Pi,ln,Ei,Ii,Li,Ri,Ci,an],Es=ss.length,Ni=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,Ai="|";function Di(e,t={}){return e.split(Ai).map(n=>{let s=n.trim().split(Ni).filter(o=>o&&!!o.trim()),r=[];for(let o=0,i=s.length;o<i;o+=1){const a=s[o];let c=!1,d=-1;for(;!c&&++d<Es;){const h=ss[d];let v=h.isMultiMatch(a);v&&(r.push(new h(v,t)),c=!0)}if(!c)for(d=-1;++d<Es;){const h=ss[d];let v=h.isSingleMatch(a);if(v){r.push(new h(v,t));break}}}return r})}const Vi=new Set([an.type,ln.type]);class Ti{constructor(t,{isCaseSensitive:n=P.isCaseSensitive,includeMatches:s=P.includeMatches,minMatchCharLength:r=P.minMatchCharLength,ignoreLocation:o=P.ignoreLocation,findAllMatches:i=P.findAllMatches,location:a=P.location,threshold:c=P.threshold,distance:d=P.distance}={}){this.query=null,this.options={isCaseSensitive:n,includeMatches:s,minMatchCharLength:r,findAllMatches:i,ignoreLocation:o,location:a,threshold:c,distance:d},this.pattern=n?t:t.toLowerCase(),this.query=Di(this.pattern,this.options)}static condition(t,n){return n.useExtendedSearch}searchIn(t){const n=this.query;if(!n)return{isMatch:!1,score:1};const{includeMatches:s,isCaseSensitive:r}=this.options;t=r?t:t.toLowerCase();let o=0,i=[],a=0;for(let c=0,d=n.length;c<d;c+=1){const h=n[c];i.length=0,o=0;for(let v=0,p=h.length;v<p;v+=1){const y=h[v],{isMatch:x,indices:m,score:g}=y.search(t);if(x){if(o+=1,a+=g,s){const b=y.constructor.type;Vi.has(b)?i=[...i,...m]:i.push(m)}}else{a=0,o=0,i.length=0;break}}if(o){let v={isMatch:!0,score:a/o};return s&&(v.indices=i),v}}return{isMatch:!1,score:1}}}const ns=[];function Fi(...e){ns.push(...e)}function rs(e,t){for(let n=0,s=ns.length;n<s;n+=1){let r=ns[n];if(r.condition(e,t))return new r(e,t)}return new on(e,t)}const Dt={AND:"$and",OR:"$or"},os={PATH:"$path",PATTERN:"$val"},is=e=>!!(e[Dt.AND]||e[Dt.OR]),Oi=e=>!!e[os.PATH],zi=e=>!Ve(e)&&tn(e)&&!is(e),Is=e=>({[Dt.AND]:Object.keys(e).map(t=>({[t]:e[t]}))});function un(e,t,{auto:n=!0}={}){const s=r=>{let o=Object.keys(r);const i=Oi(r);if(!i&&o.length>1&&!is(r))return s(Is(r));if(zi(r)){const c=i?r[os.PATH]:o[0],d=i?r[os.PATTERN]:r[c];if(!Ee(d))throw new Error(di(c));const h={keyId:ts(c),pattern:d};return n&&(h.searcher=rs(d,t)),h}let a={children:[],operator:o[0]};return o.forEach(c=>{const d=r[c];Ve(d)&&d.forEach(h=>{a.children.push(s(h))})}),a};return is(e)||(e=Is(e)),s(e)}function ji(e,{ignoreFieldNorm:t=P.ignoreFieldNorm}){e.forEach(n=>{let s=1;n.matches.forEach(({key:r,norm:o,score:i})=>{const a=r?r.weight:null;s*=Math.pow(i===0&&a?Number.EPSILON:i,(a||1)*(t?1:o))}),n.score=s})}function Bi(e,t){const n=e.matches;t.matches=[],pe(n)&&n.forEach(s=>{if(!pe(s.indices)||!s.indices.length)return;const{indices:r,value:o}=s;let i={indices:r,value:o};s.key&&(i.key=s.key.src),s.idx>-1&&(i.refIndex=s.idx),t.matches.push(i)})}function Ki(e,t){t.score=e.score}function Hi(e,t,{includeMatches:n=P.includeMatches,includeScore:s=P.includeScore}={}){const r=[];return n&&r.push(Bi),s&&r.push(Ki),e.map(o=>{const{idx:i}=o,a={item:t[i],refIndex:i};return r.length&&r.forEach(c=>{c(o,a)}),a})}class nt{constructor(t,n={},s){this.options={...P,...n},this.options.useExtendedSearch,this._keyStore=new pi(this.options.keys),this.setCollection(t,s)}setCollection(t,n){if(this._docs=t,n&&!(n instanceof ds))throw new Error(ci);this._myIndex=n||rn(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(t){pe(t)&&(this._docs.push(t),this._myIndex.add(t))}remove(t=()=>!1){const n=[];for(let s=0,r=this._docs.length;s<r;s+=1){const o=this._docs[s];t(o,s)&&(this.removeAt(s),s-=1,r-=1,n.push(o))}return n}removeAt(t){this._docs.splice(t,1),this._myIndex.removeAt(t)}getIndex(){return this._myIndex}search(t,{limit:n=-1}={}){const{includeMatches:s,includeScore:r,shouldSort:o,sortFn:i,ignoreFieldNorm:a}=this.options;let c=Ee(t)?Ee(this._docs[0])?this._searchStringList(t):this._searchObjectList(t):this._searchLogical(t);return ji(c,{ignoreFieldNorm:a}),o&&c.sort(i),en(n)&&n>-1&&(c=c.slice(0,n)),Hi(c,this._docs,{includeMatches:s,includeScore:r})}_searchStringList(t){const n=rs(t,this.options),{records:s}=this._myIndex,r=[];return s.forEach(({v:o,i,n:a})=>{if(!pe(o))return;const{isMatch:c,score:d,indices:h}=n.searchIn(o);c&&r.push({item:o,idx:i,matches:[{score:d,value:o,norm:a,indices:h}]})}),r}_searchLogical(t){const n=un(t,this.options),s=(a,c,d)=>{if(!a.children){const{keyId:v,searcher:p}=a,y=this._findMatches({key:this._keyStore.get(v),value:this._myIndex.getValueForItemAtKeyId(c,v),searcher:p});return y&&y.length?[{idx:d,item:c,matches:y}]:[]}const h=[];for(let v=0,p=a.children.length;v<p;v+=1){const y=a.children[v],x=s(y,c,d);if(x.length)h.push(...x);else if(a.operator===Dt.AND)return[]}return h},r=this._myIndex.records,o={},i=[];return r.forEach(({$:a,i:c})=>{if(pe(a)){let d=s(n,a,c);d.length&&(o[c]||(o[c]={idx:c,item:a,matches:[]},i.push(o[c])),d.forEach(({matches:h})=>{o[c].matches.push(...h)}))}}),i}_searchObjectList(t){const n=rs(t,this.options),{keys:s,records:r}=this._myIndex,o=[];return r.forEach(({$:i,i:a})=>{if(!pe(i))return;let c=[];s.forEach((d,h)=>{c.push(...this._findMatches({key:d,value:i[h],searcher:n}))}),c.length&&o.push({idx:a,item:i,matches:c})}),o}_findMatches({key:t,value:n,searcher:s}){if(!pe(n))return[];let r=[];if(Ve(n))n.forEach(({v:o,i,n:a})=>{if(!pe(o))return;const{isMatch:c,score:d,indices:h}=s.searchIn(o);c&&r.push({score:d,key:t,value:o,idx:i,norm:a,indices:h})});else{const{v:o,n:i}=n,{isMatch:a,score:c,indices:d}=s.searchIn(o);a&&r.push({score:c,key:t,value:o,norm:i,indices:d})}return r}}nt.version="7.0.0";nt.createIndex=rn;nt.parseIndex=ki;nt.config=P;nt.parseQuery=un;Fi(Ti);const Ui={class:"bg-main transform",shadow:"~",p:"x-4 y-2",border:"~ transparent rounded dark:main"},Gi=["value","disabled"],Wi={table:"","w-full":"","border-collapse":""},Yi=["border","onClick"],Xi={"text-right":"",op50:"","text-sm":"","table-cell":"","py-2":"","pl-4":"","pr-3":"","vertical-middle":""},Qi=X({__name:"Goto",setup(e){const t=j(),n=j(),s=j(),r=j(),o=j(""),i=j(0),{go:a,slides:c}=ce();function d(_){return _!=null}const h=$(()=>new nt(c.value.map(_=>{var z;return(z=_.meta)==null?void 0:z.slide}).filter(d),{keys:["no","title"],threshold:.3,shouldSort:!0,minMatchCharLength:1})),v=$(()=>o.value.startsWith("/")?o.value.substring(1):o.value),p=$(()=>h.value.search(v.value).map(_=>_.item)),y=$(()=>!!p.value.length);function x(){if(y.value){const _=p.value.at(i.value||0);_&&a(_.no)}m()}function m(){o.value="",Oe.value=!1}function g(_){_.preventDefault(),i.value++,i.value>=p.value.length&&(i.value=0),V()}function b(_){_.preventDefault(),i.value--,i.value<=-2&&(i.value=p.value.length-1),V()}function V(){var z;const _=(z=r.value)==null?void 0:z[i.value];_&&s.value&&(_.offsetTop+_.offsetHeight>s.value.offsetHeight+s.value.scrollTop?s.value.scrollTo({behavior:"smooth",top:_.offsetTop+_.offsetHeight-s.value.offsetHeight+1}):_.offsetTop<s.value.scrollTop&&s.value.scrollTo({behavior:"smooth",top:_.offsetTop}))}function k(_){i.value=0,o.value=_.target.value}function D(_){a(_),m()}return Ye(Oe,async _=>{var z;_?(o.value="",i.value=0,setTimeout(()=>{var T;return(T=n.value)==null?void 0:T.focus()},0)):(z=n.value)==null||z.blur()}),Ye(ct,()=>{var _;(_=t.value)!=null&&_.contains(ct.value)||m()}),(_,z)=>(u(),f("div",{id:"slidev-goto-dialog",ref_key:"container",ref:t,class:Q(["fixed right-5 transition-all",l(Oe)?"top-5":"-top-20"]),"w-90":"","max-w-90":"","min-w-90":""},[w("div",Ui,[w("input",{id:"slidev-goto-input",ref_key:"input",ref:n,value:o.value,type:"text",disabled:!l(Oe),class:Q(["outline-none bg-transparent",{"text-red-400":!y.value&&o.value}]),placeholder:"Goto...",onKeydown:[yt(x,["enter"]),yt(m,["escape"]),yt(g,["down"]),yt(b,["up"])],onInput:k},null,42,Gi)]),p.value.length>0?(u(),f("div",{key:0,ref_key:"list",ref:s,class:"autocomplete-list",shadow:"~",border:"~ transparent rounded dark:main"},[w("ul",Wi,[(u(!0),f(U,null,pt(p.value,(T,G)=>(u(),f("li",{ref_for:!0,ref_key:"items",ref:r,key:T.id,role:"button",tabindex:"0","cursor-pointer":"",hover:"op100","table-row":"","items-center":"",border:G===0?void 0:"t main",class:Q(i.value===G?"bg-active op100":"op80"),onClick:Os(O=>D(T.no),["stop","prevent"])},[w("div",Xi,me(T.no),1),C(l(oi),{"table-cell":"","py-2":"","pr-4":"","w-full":"",no:T.no},null,8,["no"])],10,Yi))),128))])],512)):S("v-if",!0)],2))}}),Zi=mt(Qi,[["__scopeId","data-v-cba06e55"]]),Ji="/Game-Audio-Design-Slidev/assets/logo-BYkHSa_O.png",qi={key:0,class:"fixed top-0 bottom-0 left-0 right-0 grid z-modal"},ea=X({__name:"Modal",props:{modelValue:{default:!1},class:{default:""}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,r=ls(n,"modelValue",t);function o(){r.value=!1}return(i,a)=>(u(),R(zs,null,[l(r)?(u(),f("div",qi,[w("div",{bg:"black opacity-80",class:"absolute top-0 bottom-0 left-0 right-0 -z-1",onClick:a[0]||(a[0]=c=>o())}),w("div",{class:Q(["m-auto rounded-md bg-main shadow",n.class]),"dark:border":"~ main"},[je(i.$slots,"default")],2)])):S("v-if",!0)],1024))}}),ta={class:"slidev-info-dialog slidev-layout flex flex-col gap-4 text-base"},sa=["innerHTML"],na=X({__name:"InfoDialog",props:{modelValue:{default:!1}},emits:["update:modelValue"],setup(e,{emit:t}){const r=ls(e,"modelValue",t),o=$(()=>typeof ye.info=="string");return(i,a)=>(u(),R(ea,{modelValue:l(r),"onUpdate:modelValue":a[0]||(a[0]=c=>Je(r)?r.value=c:null),class:"px-6 py-4"},{default:N(()=>[w("div",ta,[o.value?(u(),f("div",{key:0,class:"mb-4",innerHTML:l(ye).info},null,8,sa)):S("v-if",!0),a[1]||(a[1]=w("a",{href:"https://github.com/slidevjs/slidev",target:"_blank",class:"!opacity-100 !border-none !text-current"},[w("div",{class:"flex gap-1 children:my-auto"},[w("div",{class:"opacity-50 text-sm mr-2"},"Powered by"),w("img",{class:"w-5 h-5",src:Ji,alt:"Slidev logo"}),w("div",{style:{color:"#2082A6"}},[w("b",null,"Sli"),Xe("dev ")])])],-1))])]),_:1},8,["modelValue"]))}}),$t=j(1),Pt=$(()=>Nn.value.length),re=j(0),hs=j(0);function ra(){re.value>$t.value&&(re.value-=1)}function oa(){re.value<Pt.value&&(re.value+=1)}function ia(){if(re.value>$t.value){let e=re.value-hs.value;e<$t.value&&(e=$t.value),re.value=e}}function aa(){if(re.value<Pt.value){let e=re.value+hs.value;e>Pt.value&&(e=Pt.value),re.value=e}}var As;(As=window.navigator.userAgent.match(/Chrome\/(\d+)/))==null||As[1];const Be=Vs({});let la=[],ua=[];et(Be,"$syncUp",!0);et(Be,"$syncDown",!0);et(Be,"$paused",!1);et(Be,"$onSet",e=>la.push(e));et(Be,"$onPatch",e=>ua.push(e));An();et(Be,"$patch",async()=>!1);const ca=Dn(Be,Be,!0);var Ds;(Ds=window.navigator.userAgent.match(/Chrome\/(\d+)/))==null||Ds[1];class da{constructor(){this._screenshotSession=null}getSnapshot(t,n){const s=t+(n?"-dark":"-light"),r=ca.state[s];if(!r)return;const o=Et(t);if(o&&(r==null?void 0:r.revision)===(o==null?void 0:o.meta.slide.revision))return r.image}async saveSnapshot(t,n,s){return!1}async startCapturing(t){return!1}}const ha=new da,fa=["innerHTML"],va=X({__name:"DrawingPreview",props:{page:{}},setup(e){const{drawingState:t}=st();return(n,s)=>l(t)[n.page]?(u(),f("svg",{key:0,class:"w-full h-full absolute top-0 pointer-events-none",innerHTML:l(t)[n.page]},null,8,fa)):S("v-if",!0)}}),pa={class:"sr-only"},be=X({__name:"IconButton",props:{title:{},icon:{},as:{},to:{}},setup(e){const t=e,n=$(()=>t.as||(t.to?"router-link":"button"));return(s,r)=>(u(),R(ze(n.value),{class:"slidev-icon-btn",title:s.title,to:s.to},{default:N(()=>[w("span",pa,me(s.title),1),je(s.$slots,"default",{},()=>[w("div",{class:Q(s.icon)},null,2)])]),_:3},8,["title","to"]))}}),ma=["id"],ga=["id"],ya={class:"slidev-slide-container w-full h-full relative"},_a=["src"],xa=X({__name:"SlideContainer",props:{width:{type:Number},meta:{default:()=>({})},isMain:{type:Boolean,default:!1},no:{type:Number,required:!1},useSnapshot:{type:Boolean,default:!1},contentStyle:{type:Object,default:()=>({})}},setup(e){const t=e,{isPrintMode:n}=ce(),s=j(null),r=bn(s),o=j(null),i=$(()=>t.width??r.width.value),a=$(()=>t.width?t.width/ps.value:r.height.value),c=$(()=>dt.value&&!n.value?+dt.value:Math.min(i.value/Rt.value,a.value/Lt.value)),d=$(()=>({...t.contentStyle,height:`${Lt.value}px`,width:`${Rt.value}px`,transform:`translate(-50%, -50%) scale(${c.value})`,"--slidev-slide-scale":c.value})),h=$(()=>t.width?{width:`${t.width}px`,height:`${t.width/ps.value}px`}:{});t.isMain&&wn($(()=>`:root { --slidev-slide-scale: ${c.value}; }`)),Fe(Us,c),Fe(Vn,o);const v=$(()=>{if(!(t.no==null||!t.useSnapshot))return ha.getSnapshot(t.no,vt.value)});return(p,y)=>v.value?(u(),f(U,{key:1},[S(" Image Snapshot "),w("div",ya,[w("img",{src:v.value,class:"w-full h-full object-cover",style:ge(h.value)},null,12,_a),y[0]||(y[0]=w("div",{absolute:"","bottom-1":"","right-1":"","p0.5":"","text-cyan:75":"","bg-cyan:10":"",rounded:"",title:"Snapshot"},[w("div",{class:"i-carbon-camera"})],-1))])],2112)):(u(),f("div",{key:0,id:e.isMain?"slide-container":void 0,ref_key:"container",ref:s,class:"slidev-slide-container",style:ge(h.value)},[w("div",{id:e.isMain?"slide-content":void 0,ref_key:"slideElement",ref:o,class:"slidev-slide-content",style:ge(d.value)},[je(p.$slots,"default",{},void 0,!0)],12,ga),je(p.$slots,"controls",{},void 0,!0)],12,ma))}}),cn=mt(xa,[["__scopeId","data-v-3d836f8a"]]),ba={render:()=>[]},wa={render:()=>[]},ka={render:()=>[]},Sa={render:()=>[]},Ma=["data-slidev-no","lang"],$a=X({__name:"SlideWrapper",props:{clicksContext:{type:Object,required:!0},renderContext:{type:String,default:"slide"},route:{type:Object,required:!0}},setup(e){const t=e,n=$(()=>{var o,i;return((i=(o=t.route.meta)==null?void 0:o.slide)==null?void 0:i.frontmatter.zoom)??1});Fe(Tn,t.route),Fe(Fn,t.route.meta.slide.frontmatter),Fe(On,j(t.route.no)),Fe(zn,j(t.renderContext)),Fe(jn,kn(t,"clicksContext")),Fe(Bn,n);const s=$(()=>n.value===1?void 0:{width:`${100/n.value}%`,height:`${100/n.value}%`,transformOrigin:"top left",transform:`scale(${n.value})`}),r=$(()=>({...s.value,"user-select":ye.selectable?void 0:"none"}));return(o,i)=>(u(),f("div",{"data-slidev-no":t.route.no,class:Q(l(Kn)(e.route,["slide","presenter"].includes(t.renderContext)?"":"disable-view-transition")),style:ge(r.value),lang:t.route.meta.slide.frontmatter.lang},[C(l(Sa)),(u(),R(ze(t.route.component))),C(l(ka))],14,Ma))}}),dn=mt($a,[["__scopeId","data-v-a155920e"]]),Pa=["onClick"],Ca={class:"text-green font-bold"},Ea={class:"opacity-50"},Ia={key:1,class:"opacity-50"},Ra={class:"fixed top-4 right-4 z-modal text-gray-400 flex flex-col items-center gap-2"},Ut=4*16*2,Rs=2*16,La=X({__name:"QuickOverview",setup(e){const t=ce(),{currentSlideNo:n,go:s,slides:r}=t;function o(){ve.value=!1}function i(y){s(y),o()}function a(y){return y===re.value}const c=Xt.smaller("xs"),d=Xt.smaller("sm"),h=$(()=>c.value?Ge.width.value-Ut:d.value?(Ge.width.value-Ut-Rs)/2:300),v=$(()=>Math.floor((Ge.width.value-Ut)/(h.value+Rs))),p=j("");return as("keypress",y=>{if(!ve.value){p.value="";return}if(y.key==="Enter"){y.preventDefault(),p.value?(i(+p.value),p.value=""):i(re.value);return}const x=Number.parseInt(y.key.replace(/\D/g,""));if(Number.isNaN(x)){p.value="";return}if(!p.value&&x===0)return;if(p.value+=String(x),+p.value>=r.value.length){p.value="";return}const m=r.value.findIndex(g=>`/${g.no}`===p.value);m!==-1&&(re.value=m+1),+p.value*10>r.value.length&&(i(+p.value),p.value="")}),Ct(()=>{re.value=n.value,hs.value=v.value}),(y,x)=>(u(),f(U,null,[C(Sn,{"enter-active-class":"duration-150 ease-out","enter-from-class":"opacity-0 scale-102 !backdrop-blur-0px","leave-active-class":"duration-200 ease-in","leave-to-class":"opacity-0 scale-102 !backdrop-blur-0px"},{default:N(()=>[l(ve)?(u(),f("div",{key:0,class:"fixed left-0 right-0 top-0 h-[calc(var(--vh,1vh)*100)] z-modal bg-main !bg-opacity-75 p-16 py-20 overflow-y-auto backdrop-blur-5px select-none",onClick:o},[w("div",{class:"grid gap-y-4 gap-x-8 w-full",style:ge(`grid-template-columns: repeat(auto-fit,minmax(${h.value}px,1fr))`)},[(u(!0),f(U,null,pt(l(r),(m,g)=>(u(),f("div",{key:m.no,class:"relative"},[w("div",{class:Q(["inline-block border rounded overflow-hidden bg-main hover:border-primary transition",a(g+1)||l(re)===g+1?"border-primary":"border-main"]),onClick:b=>i(m.no)},[(u(),R(cn,{key:m.no,no:m.no,"use-snapshot":!0,width:h.value,class:"pointer-events-none"},{default:N(()=>[C(dn,{"clicks-context":l(Gs)(m,l(Ws)),route:m,"render-context":"overview"},null,8,["clicks-context","route"]),C(va,{page:m.no},null,8,["page"])]),_:2},1032,["no","width"]))],10,Pa),w("div",{class:"absolute top-0",style:ge(`left: ${h.value+5}px`)},[p.value&&String(g+1).startsWith(p.value)?(u(),f(U,{key:0},[w("span",Ca,me(p.value),1),w("span",Ea,me(String(g+1).slice(p.value.length)),1)],64)):(u(),f("span",Ia,me(g+1),1))],4)]))),128))],4)])):S("v-if",!0)]),_:1}),ft(w("div",Ra,[C(be,{title:"Close",class:"text-2xl",onClick:o},{default:N(()=>x[0]||(x[0]=[w("div",{class:"i-carbon:close"},null,-1)])),_:1}),S("v-if",!0),S("v-if",!0)],512),[[js,l(ve)]])],64))}}),Na=X({__name:"Controls",setup(e){ce();const t=We(),n=We(),s=We();return(r,o)=>(u(),f(U,null,[t.value?(u(),R(l(t),{key:0})):S("v-if",!0),C(La),C(Zi),n.value?(u(),R(l(n),{key:1})):S("v-if",!0),s.value?(u(),R(l(s),{key:2,modelValue:l(Ot),"onUpdate:modelValue":o[0]||(o[0]=i=>Je(Ot)?Ot.value=i:null)},null,8,["modelValue"])):S("v-if",!0),l(ye).info?(u(),R(na,{key:3,modelValue:l(ht),"onUpdate:modelValue":o[1]||(o[1]=i=>Je(ht)?ht.value=i:null)},null,8,["modelValue"])):S("v-if",!0),C(Qr)],64))}}),Aa={render:()=>[]},Da={key:0,class:"bg-main text-main shadow-xl absolute bottom-10 left-0 z-menu py2",border:"~ main rounded-md"},Va=X({__name:"MenuButton",props:{modelValue:{default:!1},disabled:{default:!1}},setup(e,{emit:t}){const r=ls(e,"modelValue",t,{passive:!0}),o=j();return Fs(o,()=>{r.value=!1}),(i,a)=>(u(),f("div",{ref_key:"el",ref:o,class:"flex relative"},[w("button",{class:Q({disabled:e.disabled}),onClick:a[0]||(a[0]=c=>r.value=!l(r))},[je(i.$slots,"button",{class:Q({disabled:e.disabled})})],2),(u(),R(zs,null,[l(r)?(u(),f("div",Da,[je(i.$slots,"menu")])):S("v-if",!0)],1024))],512))}}),Ta={border:"~ main rounded",flex:"~ gap-2 items-center",relative:"","h-5":"","w-5":"","p0.5":"","hover:bg-active":"",p1:""},Fa=["disabled"],Gt=X({__name:"FormCheckbox",props:Bs({disabled:{type:Boolean}},{modelValue:{type:Boolean,type:Boolean},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=Ks(e,"modelValue");return(n,s)=>(u(),f("div",Ta,[w("div",{"i-ri-check-line":"",class:Q(t.value?"":"op0")},null,2),ft(w("input",{"onUpdate:modelValue":s[0]||(s[0]=r=>t.value=r),type:"checkbox",absolute:"","inset-0":"","opacity-0.1":"",disabled:n.disabled},null,8,Fa),[[Mn,t.value]])]))}}),Oa={"w-30":"","h-8":"",flex:"~ gap-1 items-center"},za={key:0,"w-1.5":"","h-1.5":"","bg-primary":"",rounded:"",absolute:"","top-0":"","right--2":""},ja={key:0,"w-1.5":"","h-1.5":"","bg-primary":"",rounded:"",absolute:"","top-0":"","right--2":""},Ba=["innerHTML"],Ae=X({__name:"FormItem",props:{title:{},nested:{type:[Boolean,Number]},div:{type:Boolean},description:{},dot:{type:Boolean}},emits:["reset"],setup(e,{emit:t}){const n=t;function s(){n("reset")}return(r,o)=>(u(),R(ze(r.div?"div":"label"),{flex:"~ row gap-2 items-center","select-none":""},{default:N(()=>[w("div",Oa,[r.nested?(u(),f("div",{key:0,"i-ri-corner-down-right-line":"",op40:"",style:ge(typeof r.nested=="number"?{marginLeft:`${r.nested*.5+.5}rem`}:{marginLeft:"0.25rem"})},null,4)):S("v-if",!0),r.description?(u(),R(l(nr),{key:2,distance:"10"},{popper:N(()=>[w("div",{"text-sm":"","min-w-90":"",innerHTML:r.description},null,8,Ba)]),default:N(()=>[w("div",{op75:"","text-right":"",relative:"",onDblclick:s},[Xe(me(r.title)+" ",1),r.dot?(u(),f("div",ja)):S("v-if",!0)],32)]),_:1})):(u(),f("div",{key:1,op75:"",relative:"",onDblclick:s},[Xe(me(r.title)+" ",1),r.dot?(u(),f("div",za)):S("v-if",!0)],32))]),je(r.$slots,"default")]),_:3}))}}),Ka={relative:"","h-22px":""},Ha={key:0,"pointer-events-none":"",absolute:"","right-1":"","top-0.5":"","text-xs":"",op25:""},ut=X({__name:"FormSlider",props:Bs({max:{},min:{},step:{},unit:{},default:{}},{modelValue:{type:Number},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=e,n=Ks(e,"modelValue");return(s,r)=>(u(),f(U,null,[w("div",{relative:"","h-22px":"","w-60":"","flex-auto":"",onDblclick:r[1]||(r[1]=o=>t.default!==void 0?n.value=t.default:null)},[ft(w("input",Yt({"onUpdate:modelValue":r[0]||(r[0]=o=>n.value=o),type:"range",class:"slider"},t,{absolute:"","bottom-0":"","left-0":"","right-0":"","top-0":"","z-10":"","w-full":"","align-top":""}),null,16),[[fs,n.value,void 0,{number:!0}]]),t.default!=null?(u(),f("span",{key:0,border:"r main",absolute:"","bottom-0":"","top-0":"","h-full":"","w-1px":"",op75:"",style:ge({left:`${(t.default-s.min)/(s.max-s.min)*100}%`})},null,4)):S("v-if",!0)],32),w("div",Ka,[ft(w("input",Yt({"onUpdate:modelValue":r[2]||(r[2]=o=>n.value=o),type:"number"},t,{border:"~ main rounded",m0:"","w-20":"","bg-gray:5":"",pl2:"","align-top":"","text-sm":""}),null,16),[[fs,n.value,void 0,{number:!0}]]),t.unit?(u(),f("span",Ha,me(t.unit),1)):S("v-if",!0)])],64))}}),Ls={error:0,client:60,Light:60,Dark:240};function Ns(e,t=1){if(Ls[e])return Vt(Ls[e],t);let n=0;for(let r=0;r<e.length;r++)n=e.charCodeAt(r)+((n<<5)-n);const s=n%360;return Vt(s,t)}function Vt(e,t=1){const n=e===-1?0:vt.value?50:100,s=vt.value?60:20;return`hsla(${e}, ${n}%, ${s}%, ${t})`}const Ua=["textContent"],Ga=X({__name:"Badge",props:{text:{},color:{type:[Boolean,Number],default:!0},as:{},size:{}},setup(e){const t=e,n=$(()=>!t.text||t.color===!1?{}:{color:typeof t.color=="number"?Vt(t.color):Ns(t.text),background:typeof t.color=="number"?Vt(t.color,.1):Ns(t.text,.1)}),s=$(()=>{switch(t.size||"sm"){case"sm":return"px-1.5 text-11px leading-1.6em"}return""});return(r,o)=>(u(),R(ze(r.as||"span"),{"ws-nowrap":"",rounded:"",class:Q(s.value),style:ge(n.value)},{default:N(()=>[je(r.$slots,"default",{},()=>[w("span",{textContent:me(t.text)},null,8,Ua)])]),_:3},8,["class","style"]))}}),Wa={flex:"~ gap-1 items-center",rounded:"","bg-gray:4":"",p1:"","m--1":""},Ya=X({__name:"SegmentControl",props:{options:{},modelValue:{}},emits:["update:modelValue"],setup(e){return(t,n)=>(u(),f("div",Wa,[(u(!0),f(U,null,pt(t.options,s=>(u(),R(Ga,{key:s.value,class:Q(["px-2 py-1 text-xs font-mono",s.value===t.modelValue?"":"op50"]),color:s.value===t.modelValue,"aria-pressed":s.value===t.modelValue,size:"none",text:s.label,as:"button",onClick:r=>t.$emit("update:modelValue",s.value)},null,8,["class","color","aria-pressed","text","onClick"]))),128))]))}}),Xa={"text-sm":"","select-none":"",flex:"~ col gap-1","min-w-30":"",px4:""},Qa=X({__name:"Settings",setup(e){const{isPresenter:t}=ce(),{isSupported:n}=Ts();return(s,r)=>(u(),f("div",Xa,[C(Ae,{title:"Invert",dot:l(A).invert!==l(Z).invert,onReset:r[1]||(r[1]=o=>l(A).invert=l(Z).invert)},{default:N(()=>[C(Gt,{modelValue:l(A).invert,"onUpdate:modelValue":r[0]||(r[0]=o=>l(A).invert=o)},null,8,["modelValue"])]),_:1},8,["dot"]),C(Ae,{title:"Brightness",dot:l(A).brightness!==l(Z).brightness,onReset:r[3]||(r[3]=o=>l(A).brightness=l(Z).brightness)},{default:N(()=>[C(ut,{modelValue:l(A).brightness,"onUpdate:modelValue":r[2]||(r[2]=o=>l(A).brightness=o),max:1.5,min:.5,step:.02,default:l(Z).brightness},null,8,["modelValue","default"])]),_:1},8,["dot"]),C(Ae,{title:"Contrast",dot:l(A).contrast!==l(Z).contrast,onReset:r[5]||(r[5]=o=>l(A).contrast=l(Z).contrast)},{default:N(()=>[C(ut,{modelValue:l(A).contrast,"onUpdate:modelValue":r[4]||(r[4]=o=>l(A).contrast=o),max:1.5,min:.5,step:.02,default:l(Z).contrast},null,8,["modelValue","default"])]),_:1},8,["dot"]),C(Ae,{title:"Saturation",dot:l(A).saturate!==l(Z).saturate,onReset:r[7]||(r[7]=o=>l(A).saturate=l(Z).saturate)},{default:N(()=>[C(ut,{modelValue:l(A).saturate,"onUpdate:modelValue":r[6]||(r[6]=o=>l(A).saturate=o),max:1.5,min:.5,step:.02,default:l(Z).saturate},null,8,["modelValue","default"])]),_:1},8,["dot"]),C(Ae,{title:"Sepia",dot:l(A).sepia!==l(Z).sepia,onReset:r[9]||(r[9]=o=>l(A).sepia=l(Z).sepia)},{default:N(()=>[C(ut,{modelValue:l(A).sepia,"onUpdate:modelValue":r[8]||(r[8]=o=>l(A).sepia=o),max:2,min:-2,step:.02,default:l(Z).sepia},null,8,["modelValue","default"])]),_:1},8,["dot"]),C(Ae,{title:"Hue Rotate",dot:l(A).hueRotate!==l(Z).hueRotate,onReset:r[11]||(r[11]=o=>l(A).hueRotate=l(Z).hueRotate)},{default:N(()=>[C(ut,{modelValue:l(A).hueRotate,"onUpdate:modelValue":r[10]||(r[10]=o=>l(A).hueRotate=o),max:180,min:-180,step:.1,default:l(Z).hueRotate},null,8,["modelValue","default"])]),_:1},8,["dot"]),r[15]||(r[15]=w("div",{class:"h-1px opacity-5 bg-current w-full my2"},null,-1)),l(t)?S("v-if",!0):(u(),R(Ae,{key:0,title:"Slide Scale"},{default:N(()=>[C(Ya,{modelValue:l(dt),"onUpdate:modelValue":r[12]||(r[12]=o=>Je(dt)?dt.value=o:null),options:[{label:"Fit",value:0},{label:"1:1",value:1}]},null,8,["modelValue"])]),_:1})),l(n)?(u(),R(Ae,{key:1,title:"Wake Lock"},{default:N(()=>[C(Gt,{modelValue:l(Mt),"onUpdate:modelValue":r[13]||(r[13]=o=>Je(Mt)?Mt.value=o:null)},null,8,["modelValue"])]),_:1})):S("v-if",!0),l(t)?S("v-if",!0):(u(),R(Ae,{key:2,title:"Hide Idle Cursor"},{default:N(()=>[C(Gt,{modelValue:l(St),"onUpdate:modelValue":r[14]||(r[14]=o=>Je(St)?St.value=o:null)},null,8,["modelValue"])]),_:1}))]))}}),Za={},Ja={class:"w-1px opacity-10 bg-current m-1 lg:m-2"};function qa(e,t){return u(),f("div",Ja)}const wt=mt(Za,[["render",qa]]),el={key:0,class:"i-carbon:minimize"},tl={key:1,class:"i-carbon:maximize"},sl={key:0,"w-2":"","h-2":"","bg-primary":"","rounded-full":"",absolute:"","top-0.5":"","right-0.5":""},nl={class:"h-40px flex",p:"l-1 t-0.5 r-2",text:"sm leading-2"},rl={class:"my-auto"},ol={class:"opacity-50"},il=X({__name:"NavControls",props:{persist:{default:!1}},setup(e){const t=e,{currentSlideNo:n,hasNext:s,hasPrev:r,isEmbedded:o,isPresenter:i,isPresenterAvailable:a,next:c,prev:d,total:h,enterPresenter:v,exitPresenter:p}=ce();st();const y=Xt.smaller("md"),{isFullscreen:x,toggle:m}=us,g=j();function b(){g.value&&ct.value&&g.value.contains(ct.value)&&ct.value.blur()}const V=$(()=>t.persist?"text-$slidev-controls-foreground bg-transparent":"rounded-md bg-main shadow-xl border border-main"),k=We();return(D,_)=>{const z=er,T=tr,G=Xs,O=sr;return u(),f("nav",{ref_key:"root",ref:g,class:"flex flex-col"},[w("div",{class:Q(["flex flex-wrap-reverse text-xl gap-0.5 p-1 lg:p-2",V.value]),onMouseleave:b},[l(o)?S("v-if",!0):(u(),R(be,{key:0,title:l(x)?"Close fullscreen":"Enter fullscreen",onClick:l(m)},{default:N(()=>[l(x)?(u(),f("div",el)):(u(),f("div",tl))]),_:1},8,["title","onClick"])),C(be,{class:Q({disabled:!l(r)}),title:"Go to previous slide",onClick:l(d)},{default:N(()=>_[6]||(_[6]=[w("div",{class:"i-carbon:arrow-left"},null,-1)])),_:1},8,["class","onClick"]),C(be,{class:Q({disabled:!l(s)}),title:"Go to next slide",onClick:l(c)},{default:N(()=>_[7]||(_[7]=[w("div",{class:"i-carbon:arrow-right"},null,-1)])),_:1},8,["class","onClick"]),l(o)?S("v-if",!0):(u(),R(be,{key:1,title:"Show slide overview",onClick:_[0]||(_[0]=F=>l(It)())},{default:N(()=>_[8]||(_[8]=[w("div",{class:"i-carbon:apps"},null,-1)])),_:1})),l(Hn)?S("v-if",!0):(u(),R(be,{key:2,title:l(vt)?"Switch to light mode theme":"Switch to dark mode theme",onClick:_[1]||(_[1]=F=>l(Qt)())},{default:N(()=>[l(vt)?(u(),R(z,{key:0})):(u(),R(T,{key:1}))]),_:1},8,["title"])),C(wt),l(o)?S("v-if",!0):(u(),f(U,{key:3},[!l(i)&&!l(y)&&k.value?(u(),f(U,{key:0},[C(l(k)),C(wt)],64)):S("v-if",!0),l(i)?(u(),R(be,{key:1,title:l(xt)?"Hide presenter cursor":"Show presenter cursor",onClick:_[2]||(_[2]=F=>xt.value=!l(xt))},{default:N(()=>[l(xt)?(u(),R(G,{key:0})):(u(),R(O,{key:1}))]),_:1},8,["title"])):S("v-if",!0)],64)),S("v-if",!0),l(o)?S("v-if",!0):(u(),f(U,{key:5},[l(i)?(u(),R(be,{key:0,title:"Play Mode",onClick:l(p)},{default:N(()=>_[10]||(_[10]=[w("div",{class:"i-carbon:presentation-file"},null,-1)])),_:1},8,["onClick"])):S("v-if",!0),S("v-if",!0),S("v-if",!0)],64)),(u(),f(U,{key:6},[l(ye).download?(u(),R(be,{key:0,title:"Download as PDF",onClick:l(Ys)},{default:N(()=>_[13]||(_[13]=[w("div",{class:"i-carbon:download"},null,-1)])),_:1},8,["onClick"])):S("v-if",!0)],64)),S("v-if",!0),!l(i)&&l(ye).info&&!l(o)?(u(),R(be,{key:8,title:"Show info",onClick:_[5]||(_[5]=F=>ht.value=!l(ht))},{default:N(()=>_[15]||(_[15]=[w("div",{class:"i-carbon:information"},null,-1)])),_:1})):S("v-if",!0),l(o)?S("v-if",!0):(u(),f(U,{key:9},[C(wt),l(i)?(u(),R(be,{key:0,title:"Toggle Presenter Layout",class:"aspect-ratio-initial flex items-center",onClick:l(Gn)},{default:N(()=>[_[16]||(_[16]=w("div",{class:"i-carbon:template"},null,-1)),Xe(" "+me(l(Un)),1)]),_:1},8,["onClick"])):S("v-if",!0),S("v-if",!0),C(Va,null,{button:N(()=>[C(be,{title:"More Options"},{default:N(()=>[_[17]||(_[17]=w("div",{class:"i-carbon:settings-adjust"},null,-1)),l(Wn)?(u(),f("div",sl)):S("v-if",!0)]),_:1})]),menu:N(()=>[C(Qa)]),_:1})],64)),l(o)?S("v-if",!0):(u(),R(wt,{key:10})),w("div",nl,[w("div",rl,[Xe(me(l(n))+" ",1),w("span",ol,"/ "+me(l(h)),1)])]),C(l(Aa))],34)],512)}}}),al={key:0,class:"absolute top-0 left-0 right-0 bottom-0 pointer-events-none text-xl"},ll=X({__name:"PresenterMouse",setup(e){return(t,n)=>{const s=Xs;return l(zt).cursor?(u(),f("div",al,[C(s,{class:"absolute stroke-white dark:stroke-black",style:ge({left:`${l(zt).cursor.x}%`,top:`${l(zt).cursor.y}%`,strokeWidth:16})},null,8,["style"])])):S("v-if",!0)}}});function ul(){const e=$n(),t=j(!1);let n,s;const r=typeof document<"u"&&"startViewTransition"in document;return e.beforeResolve((o,i)=>{var m,g,b,V;const a=(m=Et(i.params.no))==null?void 0:m.meta,c=(g=Et(o.params.no))==null?void 0:g.meta,d=(b=a==null?void 0:a.slide)==null?void 0:b.no,h=(V=c==null?void 0:c.slide)==null?void 0:V.no;if((d!=null&&h!=null&&d!==h&&((d<h?a==null?void 0:a.transition:c==null?void 0:c.transition)??ye.transition))!=="view-transition"){t.value=!1;return}if(!r){t.value=!1,console.warn("View transition is not supported in your browser, fallback to normal transition.");return}t.value=!0;const p=new Promise((k,D)=>{n=k,s=D});let y;const x=new Promise(k=>y=k);return setTimeout(()=>{document.startViewTransition(()=>(y(),p))},50),x}),r&&e.afterEach(()=>{n==null||n(),s==null||s()}),t}const cl=["data-drag-id"],Se=10,Te=10,Wt="absolute border border-gray bg-gray dark:border-gray-500 dark:bg-gray-800 bg-opacity-30 ",kt=20,dl=X({__name:"DragControl",props:{data:{}},setup(e){const{dragId:t,zoom:n,autoHeight:s,x0:r,y0:o,width:i,height:a,rotate:c,isArrow:d}=e.data,h=Pn(Us,j(1)),v=$(()=>h.value*n.value),{left:p,top:y}=Yn(),x=d?Number.NEGATIVE_INFINITY:40,m=$(()=>c.value*Math.PI/180),g=$(()=>Math.sin(m.value)),b=$(()=>Math.cos(m.value)),V=$(()=>i.value*b.value+a.value*g.value),k=$(()=>i.value*g.value+a.value*b.value),D=$(()=>r.value-V.value/2),_=$(()=>o.value-k.value/2),z=$(()=>r.value+V.value/2),T=$(()=>o.value+k.value/2),G=$(()=>d&&i.value<0),O=$(()=>d&&a.value<0);let F=null;function ne(M){if(M.buttons!==1)return;M.preventDefault(),M.stopPropagation();const H=M.target.getBoundingClientRect(),E=i.value*b.value-a.value*g.value,L=i.value*g.value+a.value*b.value,se=i.value*b.value+a.value*g.value,oe=-i.value*g.value+a.value*b.value;F={x0:r.value,y0:o.value,width:i.value,height:a.value,rotate:c.value,dx0:M.clientX-(H.left+H.right)/2,dy0:M.clientY-(H.top+H.bottom)/2,ltx:r.value-E/2,lty:o.value-L/2,rtx:r.value+se/2,rty:o.value-oe/2,lbx:r.value-se/2,lby:o.value+oe/2,rbx:r.value+E/2,rby:o.value+L/2},M.currentTarget.setPointerCapture(M.pointerId)}function _e(M){if(!F||M.buttons!==1)return;M.preventDefault(),M.stopPropagation();const Y=(M.clientX-p.value-F.dx0)/v.value,H=(M.clientY-y.value-F.dy0)/v.value;r.value=ms(Y,-V.value/2+Te,Rt.value+V.value/2-Te),o.value=ms(H,-k.value/2+Te,Lt.value+k.value/2-Te)}function ae(M){F&&(M.preventDefault(),M.stopPropagation(),F=null)}function K(M,Y){return{onPointerdown:ne,onPointermove:H=>{if(!F||H.buttons!==1)return;H.preventDefault(),H.stopPropagation();let E=(H.clientX-p.value)/v.value,L=(H.clientY-y.value)/v.value;const{ltx:se,lty:oe,rtx:xe,rty:ee,lbx:he,lby:le,rbx:Re,rby:te}=F,ie=F.width/F.height,hn=Math.max(x,x*ie);function gt(Pe,Ce){if(H.shiftKey){const ue=Math.max(Pe,Ce*ie,hn),fe=ue/ie;return{w:ue,h:fe}}else return{w:Math.max(Pe,x),h:Math.max(Ce,x)}}if(M)if(Y){const Pe=(Re-E)*b.value+(te-L)*g.value,Ce=-(Re-E)*g.value+(te-L)*b.value,{w:ue,h:fe}=gt(Pe,Ce);E=Re-ue*b.value+fe*g.value,L=te-ue*g.value-fe*b.value}else{const Pe=(xe-E)*b.value-(L-ee)*g.value,Ce=(xe-E)*g.value+(L-ee)*b.value,{w:ue,h:fe}=gt(Pe,Ce);E=xe-ue*b.value-fe*g.value,L=ee-ue*g.value+fe*b.value}else if(Y){const Pe=(E-he)*b.value-(le-L)*g.value,Ce=(E-he)*g.value+(le-L)*b.value,{w:ue,h:fe}=gt(Pe,Ce);E=he+ue*b.value+fe*g.value,L=le+ue*g.value-fe*b.value}else{const Pe=(E-se)*b.value+(L-oe)*g.value,Ce=-(E-se)*g.value+(L-oe)*b.value,{w:ue,h:fe}=gt(Pe,Ce);E=se+ue*b.value-fe*g.value,L=oe+ue*g.value+fe*b.value}M?Y?(r.value=(E+Re)/2,o.value=(L+te)/2,i.value=(Re-E)*b.value+(te-L)*g.value,a.value=-(Re-E)*g.value+(te-L)*b.value):(r.value=(E+xe)/2,o.value=(L+ee)/2,i.value=(xe-E)*b.value-(L-ee)*g.value,a.value=(xe-E)*g.value+(L-ee)*b.value):Y?(r.value=(E+he)/2,o.value=(L+le)/2,i.value=(E-he)*b.value-(le-L)*g.value,a.value=(E-he)*g.value+(le-L)*b.value):(r.value=(E+se)/2,o.value=(L+oe)/2,i.value=(E-se)*b.value+(L-oe)*g.value,a.value=-(E-se)*g.value+(L-oe)*b.value)},onPointerup:ae,style:{width:`${Se}px`,height:`${Se}px`,margin:`-${Se/2}px`,left:M!==G.value?"0":void 0,right:M!==G.value?void 0:"0",top:Y!==O.value?"0":void 0,bottom:Y!==O.value?void 0:"0",cursor:d?"move":+M+ +Y==1?"nesw-resize":"nwse-resize",borderRadius:d?"50%":void 0},class:Wt}}function de(M){return{onPointerdown:ne,onPointermove:Y=>{if(!F||Y.buttons!==1)return;Y.preventDefault(),Y.stopPropagation();const H=(Y.clientX-p.value)/v.value,E=(Y.clientY-y.value)/v.value,{ltx:L,lty:se,rtx:oe,rty:xe,lbx:ee,lby:he,rbx:le,rby:Re}=F;if(M==="l"){const te=(oe+le)/2,ie=(xe+Re)/2;i.value=Math.max((te-H)*b.value+(ie-E)*g.value,x),r.value=te-i.value*b.value/2,o.value=ie-i.value*g.value/2}else if(M==="r"){const te=(L+ee)/2,ie=(se+he)/2;i.value=Math.max((H-te)*b.value+(E-ie)*g.value,x),r.value=te+i.value*b.value/2,o.value=ie+i.value*g.value/2}else if(M==="t"){const te=(ee+le)/2,ie=(he+Re)/2;a.value=Math.max((ie-E)*b.value-(te-H)*g.value,x),r.value=te+a.value*g.value/2,o.value=ie-a.value*b.value/2}else if(M==="b"){const te=(L+oe)/2,ie=(se+xe)/2;a.value=Math.max((E-ie)*b.value-(H-te)*g.value,x),r.value=te-a.value*g.value/2,o.value=ie+a.value*b.value/2}},onPointerup:ae,style:{width:`${Se}px`,height:`${Se}px`,margin:`-${Se/2}px`,left:M==="l"?"0":M==="r"?"100%":"50%",top:M==="t"?"0":M==="b"?"100%":"50%",cursor:"lr".includes(M)?"ew-resize":"ns-resize",borderRadius:"50%"},class:Wt}}function Ie(){return{onPointerdown:ne,onPointermove:M=>{if(!F||M.buttons!==1)return;M.preventDefault(),M.stopPropagation();const Y=(M.clientX-p.value-F.dx0)/v.value-Se/4,H=(M.clientY-y.value-F.dy0)/v.value-Se/4;let E=Math.atan2(H-o.value,Y-r.value)*180/Math.PI+90;const L=[0,90,180,270,360];for(const se of L)if(Math.abs(E-se)<5){E=se%360;break}c.value=E},onPointerup:ae,style:{width:`${Se}px`,height:`${Se}px`,margin:`-${Se/2}px`,left:"50%",top:"-20px",cursor:"grab",borderRadius:"50%"},class:Wt}}const I={immediate:!1,immediateCallback:!1},q=_t(()=>{z.value<=Te||r.value--},kt,I),B=_t(()=>{D.value>=Rt.value-Te||r.value++},kt,I),W=_t(()=>{T.value<=Te||o.value--},kt,I),rt=_t(()=>{_.value>=Lt.value-Te||o.value++},kt,I);return Ct(()=>{function M(Y,H){cs[Y].value?H.resume():H.pause()}M("left",q),M("right",B),M("up",W),M("down",rt)}),(M,Y)=>Number.isFinite(l(r))?(u(),f("div",{key:0,id:"drag-control-container","data-drag-id":l(t),style:ge({position:"absolute",zIndex:100,left:`${l(n)*(l(r)-Math.abs(l(i))/2)}px`,top:`${l(n)*(l(o)-Math.abs(l(a))/2)}px`,width:`${l(n)*Math.abs(l(i))}px`,height:`${l(n)*Math.abs(l(a))}px`,transformOrigin:"center center",transform:`rotate(${l(c)}deg)`}),onPointerdown:ne,onPointermove:_e,onPointerup:ae},[w("div",{class:Q(["absolute inset-0 z-nav dark:b-gray-400",l(d)?"":"b b-dark"])},[l(s)?S("v-if",!0):(u(),f(U,{key:0},[w("div",Le(Ne(K(!0,!0))),null,16),w("div",Le(Ne(K(!1,!1))),null,16),l(d)?S("v-if",!0):(u(),f(U,{key:0},[w("div",Le(Ne(K(!0,!1))),null,16),w("div",Le(Ne(K(!1,!0))),null,16)],64))],64)),l(d)?S("v-if",!0):(u(),f(U,{key:1},[w("div",Le(Ne(de("l"))),null,16),w("div",Le(Ne(de("r"))),null,16),l(s)?S("v-if",!0):(u(),f(U,{key:0},[w("div",Le(Ne(de("t"))),null,16),w("div",Le(Ne(de("b"))),null,16)],64)),w("div",Le(Ne(Ie())),null,16),w("div",{class:"absolute -top-15px w-0 b b-dashed b-dark dark:b-gray-400",style:ge({left:"calc(50% - 1px)",height:l(s)?"14px":"10px"})},null,4)],64))],2)],44,cl)):S("v-if",!0)}}),hl=X({__name:"SlidesShow",props:{renderContext:{}},setup(e){const{currentSlideRoute:t,currentTransition:n,getPrimaryClicks:s,prevRoute:r,nextRoute:o,slides:i,isPrintMode:a,isPrintWithClicks:c,clicksDirection:d,printRange:h}=ce();function v(m){m.meta.preload!==!1&&(m.meta.__preloaded=!0,m.load())}Ct(()=>{v(t.value),v(r.value),v(o.value)}),Ct(m=>{const g=i.value,b=setTimeout(()=>{g.forEach(v)},3e3);m(()=>clearTimeout(b))});const p=ul();We();const y=$(()=>a.value?h.value.map(m=>i.value[m-1]):i.value.filter(m=>{var g;return((g=m.meta)==null?void 0:g.__preloaded)||m===t.value}));function x(){jt.value=!0,rr()}return(m,g)=>(u(),f(U,null,[S(" Global Bottom "),C(l(wa)),S(" Slides "),(u(),R(ze(l(p)&&!l(a)&&!l(jt)&&!l(gs)?"div":Cn),Yt(l(jt)||l(gs)||l(a)?{}:l(n),{id:"slideshow",tag:"div",class:{"slidev-nav-go-forward":l(d)>0,"slidev-nav-go-backward":l(d)<0},onAfterLeave:x}),{default:N(()=>[(u(!0),f(U,null,pt(y.value,b=>(u(),f(U,{key:b.no},[Math.abs(b.no-l(t).no)<=20?ft((u(),R(dn,{key:0,"clicks-context":l(a)&&!l(c)?l(Gs)(b,l(Ws)):l(s)(b),route:b,"render-context":m.renderContext},null,8,["clicks-context","route","render-context"])),[[js,b===l(t)]]):S("v-if",!0)],64))),128))]),_:1},16,["class"])),l(Zt)?(u(),R(dl,{key:0,data:l(Zt)},null,8,["data"])):S("v-if",!0),S(" Global Top "),C(l(ba)),S("v-if",!0)],64))}}),fl=mt(hl,[["__scopeId","data-v-04229099"]]),vl=[];function pl(){const{go:e,goFirst:t,goLast:n,next:s,nextSlide:r,prev:o,prevSlide:i}=ce(),{drawingEnabled:a}=st(),{escape:c,space:d,shift:h,left:v,right:p,up:y,down:x,enter:m,d:g,g:b,o:V,"`":k}=cs,D={next:s,prev:o,nextSlide:r,prevSlide:i,go:e,goFirst:t,goLast:n,downloadPDF:Ys,toggleDark:Qt,toggleOverview:It,toggleDrawing:()=>a.value=!a.value,escapeOverview:()=>ve.value=!1,showGotoDialog:()=>Oe.value=!Oe.value},_=J(we(ve),we(Zt));let z=[{name:"next_space",key:J(d,we(h)),fn:s,autoRepeat:!0},{name:"prev_space",key:J(d,h),fn:o,autoRepeat:!0},{name:"next_right",key:J(p,we(h),_),fn:s,autoRepeat:!0},{name:"prev_left",key:J(v,we(h),_),fn:o,autoRepeat:!0},{name:"next_page_key",key:"pageDown",fn:s,autoRepeat:!0},{name:"prev_page_key",key:"pageUp",fn:o,autoRepeat:!0},{name:"next_down",key:J(x,_),fn:r,autoRepeat:!0},{name:"prev_up",key:J(y,_),fn:i,autoRepeat:!0},{name:"next_shift",key:J(p,h),fn:r,autoRepeat:!0},{name:"prev_shift",key:J(v,h),fn:i,autoRepeat:!0},{name:"toggle_dark",key:J(g,we(a)),fn:Qt},{name:"toggle_overview",key:J(En(V,k),we(a)),fn:It},{name:"hide_overview",key:J(c,we(a)),fn:()=>ve.value=!1},{name:"goto",key:J(b,we(a)),fn:()=>Oe.value=!Oe.value},{name:"next_overview",key:J(p,ve),fn:oa},{name:"prev_overview",key:J(v,ve),fn:ra},{name:"up_overview",key:J(y,ve),fn:ia},{name:"down_overview",key:J(x,ve),fn:aa},{name:"goto_from_overview",key:J(m,ve),fn:()=>{e(re.value),ve.value=!1}}];const T=new Set(z.map(O=>O.name));for(const O of vl)z=O(D,z);if(z.filter(O=>O.name&&T.has(O.name)).length===0){const O=["========== WARNING ==========","defineShortcutsSetup did not return any of the base shortcuts.","See https://sli.dev/custom/config-shortcuts.html for migration.",'If it is intentional, return at least one shortcut with one of the base names (e.g. name:"goto").'].join(`

`);alert(O),console.warn(O)}return z}function ml(){const{isPrintMode:e}=ce(),t=J(we(Hs),we(Qn),we(e),Xn),n=pl();new Map(n.map(i=>[i.key,i])).forEach(i=>{i.fn&&r(i.key,i.fn,i.autoRepeat)}),o("f",()=>us.toggle());function r(i,a,c=!1){typeof i=="string"&&(i=cs[i]);const d=J(i,t);let h=0,v;const p=()=>{if(clearTimeout(v),!d.value){h=0;return}c&&(v=setTimeout(p,Math.max(1e3-h*250,150)),h++),a()};return Ye(d,p,{flush:"sync"})}function o(i,a){return In(i,c=>{t.value&&(c.repeat||a())})}}const wl=X({__name:"play",setup(e){const{next:t,prev:n,isPrintMode:s,isPresenter:r}=ce(),{isDrawing:o}=st(),i=j();function a(v){var p;qe.value||v.button===0&&((p=v.target)==null?void 0:p.id)==="slide-container"&&(v.pageX/window.innerWidth>.5?t():n())}Fr(i),ml(),Or(),Tr($(()=>!r.value&&!s.value));const c=$(()=>Zn.value||qe.value),d=We(),h=$(()=>{let v="";return A.value.brightness!==Z.brightness&&(v+=`brightness(${A.value.brightness}) `),A.value.contrast!==Z.contrast&&(v+=`contrast(${A.value.contrast}) `),A.value.sepia!==Z.sepia&&(v+=`sepia(${A.value.sepia}) `),A.value.hueRotate!==Z.hueRotate&&(v+=`hue-rotate(${A.value.hueRotate}deg) `),A.value.invert&&(v+="invert(1) "),{filter:v}});return(v,p)=>(u(),f(U,null,[w("div",{id:"page-root",ref_key:"root",ref:i,class:Q(["grid",l(Jn)?"grid-rows-[1fr_max-content]":"grid-cols-[1fr_max-content]"])},[C(cn,{style:{background:"var(--slidev-slide-container-background, black)"},"is-main":"","content-style":h.value,onPointerdown:a,onContextmenu:l(Kr)},{default:N(()=>[C(fl,{"render-context":"slide"}),C(ll)]),controls:N(()=>[l(s)?S("v-if",!0):(u(),f("div",{key:0,class:Q(["absolute bottom-0 left-0 transition duration-300 opacity-0 hover:opacity-100 focus-within:opacity-100 focus-visible:opacity-100",[c.value?"!opacity-100 right-0":"opacity-0 p-2",l(o)?"pointer-events-none":""]])},[C(il,{persist:c.value},null,8,["persist"])],2))]),_:1},8,["content-style","onContextmenu"]),d.value&&l(qe)?(u(),R(l(d),{key:0,resize:!0})):S("v-if",!0)],2),l(s)?S("v-if",!0):(u(),R(Na,{key:0})),p[0]||(p[0]=w("div",{id:"twoslash-container"},null,-1))],64))}});export{wl as default};
